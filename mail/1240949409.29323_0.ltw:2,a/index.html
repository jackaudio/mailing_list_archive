<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [LAD] [Jack-Devel] How is the TSC calibration accuracy on dual core 2 computers? (And what about HPET?)</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [LAD] [Jack-Devel] How is the TSC calibration accuracy on dual core 2 computers? (And what about HPET?)</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1240940617.13659_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1240950376.31114_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1240949409.29323_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Tue, 28 Apr 2009 23:09:48 +0300 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Jussi Laako </span> &lt;[hidden] at sonarnerd dot net&gt; </td></tr>
<tr><td class='col1'>To</td><td>"Kjetil S. Matheussen" &lt;[hidden] at notam02 dot no&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>[hidden] at lists dot jackaudio dot org, [hidden] at lists dot linuxaudio dot org </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Kjetil S. Matheussen
<a href='../1240922797.19703_0.ltw:2,a/index.html'>[LAD] How is the TSC calibration accuracy on dual core 2 computers? (And what about HPET?) </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>Kjetil S. Matheussen
<a href='../1241000387.18849_0.ltw:2,a/index.html'>Re: [LAD] [Jack-Devel] How is the TSC calibration accuracy on dual core 2 computers? (And what about HPET?) </a></td></tr>
</table>
<pre>
Kjetil S. Matheussen wrote:
&gt; 
&gt; I've looked at the HPET code in jack, but am unsure how accurate it is,
&gt; and whether there are any overhead using it?

Resolution on my machine is 1 / 14.318180 MHz. Frequency can vary
typically from 12 to 16 MHz. Access is usually rather fast through MMIO.
Accuracy can vary depending on hardware and environment, same applies
even more for TSC.

&gt; that's the accuracy of usleep(). So it looks promising, but
&gt; I need at least 0.1ms accuracy...

In my opinion, clock_gettime() with CLOCK_MONOTONIC is pretty good if
kernel is using reasonably good clock source. You can check the current
one by "cat
/sys/devices/system/clocksource/clocksource0/current_clocksource". Over
rather long periods, CLOCK_REALTIME with good NTP sync would probably be
a good choice.

Over what time span you would need that 0.1 ms accuracy?


	- Jussi
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1240940617.13659_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1240950376.31114_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1240949409.29323_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1240949409.29323_0.ltw:2,a&nbsp;&lt;49F7628C.7050001 at sonarnerd dot net&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
