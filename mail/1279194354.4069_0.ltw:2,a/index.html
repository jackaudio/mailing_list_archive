<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [LAD] Tests directly routing pc's midi-in to midi-out</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [LAD] Tests directly routing pc's midi-in to midi-out</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1274582399.23427_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1279200988.12126_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1279194354.4069_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Thu, 15 Jul 2010 13:45:32 +0200 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Robin Gareus </span> &lt;[hidden] at gareus dot org&gt; </td></tr>
<tr><td class='col1'>To</td><td>Ralf Mardorf &lt;[hidden] at alice-dsl dot net&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>[hidden] at lists dot linuxaudio dot org, Clemens Ladisch &lt;[hidden] at ladisch dot de&gt; </td></tr>
<tr><td class='col1'>Follow-Up</td><td>Clemens Ladisch
<a href='../1279204322.16352_0.ltw:2,a/index.html'>Re: [LAD] Tests directly routing pc's midi-in to midi-out </a></td></tr>
</table>
<pre>
On 07/15/2010 01:07 PM, Ralf Mardorf wrote:
&gt; On Thu, 2010-07-15 at 12:55 +0200, Clemens Ladisch wrote:
&gt;&gt; Ralf Mardorf wrote:
&gt;&gt;&gt; - instead of dev.hpet.max-user-freq=64 I'll try 1024 or 2048 as Robin
&gt;&gt;&gt; mentioned
&gt;&gt;
&gt;&gt; This parameter will not have any effect on anything because there is no
&gt;&gt; program that uses the HPET timers from userspace. 

That'd be correct if Ralf would stick to 'amidiplay' and friends for his
tests.

There are a couple of audio-tools who can use either RTC or HPET for
timing, although most of them need an option to explicitly enable it.

&gt;&gt; When high-resolution
&gt;&gt; timers are used by ALSA, this is done inside the kernel where there is
&gt;&gt; no limit on the maximum frequency.

Thanks for that explanation. It makes perfect sense.
I take it the same must be true for dev.rtc.max-user-freq as well.

BTW. Do you know the unit of these values?
  cat /sys/class/rtc/rtc0/max_user_freq
  cat /proc/sys/dev/hpet/max-user-freq
are they Hz?

linux-2.6/Documentation/hpet.txt does not mention it at all and
linux-2.6/Documentation/rtc.txt hints it's Hz but does not explicitly
say so.

&gt;&gt; Regards,
&gt;&gt; Clemens
&gt; 
&gt; IIRC someone on jack-devel mailing list had issues when using mplayer
&gt; with the value 64 and it was solved when using the value 1024. But as I
&gt; mentioned before, for my USB MIDI there was a difference between system
&gt; timer and hr timer, but there was no difference for the value 64 and
&gt; 1024, when using hr timer.
&gt; 
&gt; Btw. I don't understand what a maximum frequency in the context does
&gt; mean. If 64 or 1024 should have impact, what would be the result?
&gt; 
&gt; System timer for a kernel-rt is set up to 1000Hz and hr timer is at
&gt; 1000000000Hz.
&gt; 
&gt; What is 'max-user-freq' for?

It limits the maximum frequency at which user-space applications can
[request to] receive "wakeup calls" from the hr-timer.

see also the "Timers" thread on LAD last November:
http://linuxaudio.org/mailarchive/lad/2009/11/7/161647

&gt; Cheers!
&gt; 
&gt; Ralf
&gt; 
&gt; 
best,
robin

-- 
Robin Gareus                           mail: [hidden]
site: http://gareus.org/               chat: xmpp:[hidden]
blog: http://rg42.org/                 lab : http://citu.fr/

Public Key at http://pgp.mit.edu/
Fingerprint : 7107 840B 4DC9 C948 076D 6359 7955 24F1 4F95 2B42
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1274582399.23427_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1279200988.12126_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1279194354.4069_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1279194354.4069_0.ltw:2,a&nbsp;&lt;4C3EF4DC.7010308 at gareus dot org&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
