<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] Building jack-1.9.7 on Solaris 10</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] Building jack-1.9.7 on Solaris 10</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1306160670.18999_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1306525280.9396_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1306175650.13192_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Mon, 23 May 2011 18:33:49 +0000 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Ben Taylor </span> &lt;[hidden] at gmail dot com&gt; </td></tr>
<tr><td class='col1'>To</td><td>St&#xE9;phane Letz &lt;[hidden] at grame dot fr&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>Nedko Arnaudov &lt;[hidden] at arnaudov dot name&gt;, [hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>St&#xE9;phane Letz
<a href='../1306160670.18999_0.ltw:2,a/index.html'>Re: [Jack-Devel] Building jack-1.9.7 on Solaris 10 </a></td></tr>
</table>
<pre>
On Mon, May 23, 2011 at 2:23 PM, St&#xE9;phane Letz &lt;[hidden]&gt; wrote:
&gt;
&gt; Le 23 mai 2011 &#xE0; 16:12, Ben Taylor a &#xE9;crit :
&gt;
&gt;&gt; On Mon, May 23, 2011 at 1:37 PM, St&#xE9;phane Letz &lt;[hidden]&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Le 22 mai 2011 &#xE0; 23:09, Ben Taylor a &#xE9;crit :
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I'm trying to build jack-1.9.7 on Solaris 10 with the Sun Studio compilers.
&gt;&gt;&gt;&gt; g++ is out of the question as I'm trying to tie this all together for the
&gt;&gt;&gt;&gt; KDE4 Solaris project.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I've worked on the wscript entry and made some progress. &#xA0;Had to push
&gt;&gt;&gt;&gt; up a cpp script just to avoid the gcc cpp in /usr/sfw/bin.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thoughts on these errors below?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Ben
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; SunOS detected
&gt;&gt;&gt;&gt; Checking for program cpp &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; : ok /opt/sunstudio12.1/bin/cpp
&gt;&gt;&gt;&gt; Checking for program ar &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;: ok /usr/ccs/bin/ar
&gt;&gt;&gt;&gt; Checking for program ranlib &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;: ok /usr/ccs/bin/ranlib
&gt;&gt;&gt;&gt; Traceback (most recent call last):
&gt;&gt;&gt;&gt; &#xA0;File "./waf.ORIG", line 127, in ?
&gt;&gt;&gt;&gt; &#xA0; &#xA0;Scripting.prepare(t, cwd, VERSION, wafdir)
&gt;&gt;&gt;&gt; &#xA0;File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.5.0-8e39a4c1c16303c1e8f010bf330305f6/wafadmin/Scripting.py",
&gt;&gt;&gt;&gt; line 122, in prepare
&gt;&gt;&gt;&gt; &#xA0; &#xA0;prepare_impl(t,cwd,ver,wafdir)
&gt;&gt;&gt;&gt; &#xA0;File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.5.0-8e39a4c1c16303c1e8f010bf330305f6/wafadmin/Scripting.py",
&gt;&gt;&gt;&gt; line 115, in prepare_impl
&gt;&gt;&gt;&gt; &#xA0; &#xA0;main()
&gt;&gt;&gt;&gt; &#xA0;File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.5.0-8e39a4c1c16303c1e8f010bf330305f6/wafadmin/Scripting.py",
&gt;&gt;&gt;&gt; line 129, in main
&gt;&gt;&gt;&gt; &#xA0; &#xA0;configure()
&gt;&gt;&gt;&gt; &#xA0;File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.5.0-8e39a4c1c16303c1e8f010bf330305f6/wafadmin/Scripting.py",
&gt;&gt;&gt;&gt; line 40, in configure
&gt;&gt;&gt;&gt; &#xA0; &#xA0;conf.sub_config('')
&gt;&gt;&gt;&gt; &#xA0;File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.5.0-8e39a4c1c16303c1e8f010bf330305f6/wafadmin/Configure.py",
&gt;&gt;&gt;&gt; line 84, in sub_config
&gt;&gt;&gt;&gt; &#xA0; &#xA0;ret=mod.configure(self)
&gt;&gt;&gt;&gt; &#xA0;File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/wscript",
&gt;&gt;&gt;&gt; line 108, in configure
&gt;&gt;&gt;&gt; &#xA0; &#xA0;conf.check_tool('sunc++')
&gt;&gt;&gt;&gt; &#xA0;File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.5.0-8e39a4c1c16303c1e8f010bf330305f6/wafadmin/Configure.py",
&gt;&gt;&gt;&gt; line 75, in check_tool
&gt;&gt;&gt;&gt; &#xA0; &#xA0;else:self.eval_rules(funs or func)
&gt;&gt;&gt;&gt; &#xA0;File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.5.0-8e39a4c1c16303c1e8f010bf330305f6/wafadmin/Configure.py",
&gt;&gt;&gt;&gt; line 162, in eval_rules
&gt;&gt;&gt;&gt; &#xA0; &#xA0;f()
&gt;&gt;&gt;&gt; &#xA0;File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.5.0-8e39a4c1c16303c1e8f010bf330305f6/wafadmin/Tools/config_c.py",
&gt;&gt;&gt;&gt; line 402, in cxx_check_features
&gt;&gt;&gt;&gt; &#xA0; &#xA0;return cc_check_features(self,kind='cpp')
&gt;&gt;&gt;&gt; &#xA0;File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.5.0-8e39a4c1c16303c1e8f010bf330305f6/wafadmin/Tools/config_c.py",
&gt;&gt;&gt;&gt; line 377, in cc_check_features
&gt;&gt;&gt;&gt; &#xA0; &#xA0;test=Configure.check_data()
&gt;&gt;&gt;&gt; AttributeError: 'module' object has no attribute 'check_data'
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; In my last attempt on Solaris (like 18 months ago), I had somme issues with the version of waf &#xA0;(http://code.google.com/p/waf/) included in jack2 tree. At that time waf was not correctly working on Solaris ad I had to hack like hell (with no complete success AFAIR)
&gt;&gt;&gt;
&gt;&gt;&gt; So you may try to install a more recent version of waf, and probably adapt all wscripts files.
&gt;&gt;&gt;
&gt;&gt;&gt; Stephane
&gt;&gt;
&gt;&gt; Well, I tried 1.6.4 and 1.6.5p1, however, they stopped even earlier in
&gt;&gt; the process in the
&gt;&gt; wscript where it tries to self-identify the OS. &#xA0;My python and waf
&gt;&gt; scripting is kinda weak,
&gt;&gt; so I was pretty lost when it stopped that early. &#xA0;I can post the logs
&gt;&gt; later today, as I'm
&gt;&gt; away from the system I was working on.
&gt;&gt;
&gt;&gt; Ben
&gt;
&gt; I'm rather weak at waf and python, Nedko "may" help....
&gt;
&gt; Stephane

here's the failures using waf-1.6.5p1. I'm sure that some change is required
for the wscript file, but I haven't clued into what that should be yet.

Traceback (most recent call last):
  File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.6.5-4c5426da904b1999cc9c89219032f1a9/waflib/Scripting.py",
line 93, in waf_entry_point
    run_commands()
  File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.6.5-4c5426da904b1999cc9c89219032f1a9/waflib/Scripting.py",
line 145, in run_commands
    run_command(cmd_name)
  File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.6.5-4c5426da904b1999cc9c89219032f1a9/waflib/Scripting.py",
line 138, in run_command
    ctx.execute()
  File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.6.5-4c5426da904b1999cc9c89219032f1a9/waflib/Configure.py",
line 127, in execute
    super(ConfigurationContext,self).execute()
  File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.6.5-4c5426da904b1999cc9c89219032f1a9/waflib/Context.py",
line 87, in execute
    self.recurse([os.path.dirname(g_module.root_path)])
  File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/.waf-1.6.5-4c5426da904b1999cc9c89219032f1a9/waflib/Context.py",
line 127, in recurse
    user_function(self)
  File "/export/home/bent/packages/BUILD/Jack-1.9.7/i386/jack-1.9.7/wscript",
line 80, in configure
    platform = Utils.detect_platform()
AttributeError: 'module' object has no attribute 'detect_platform'
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1306160670.18999_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1306525280.9396_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1306175650.13192_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1306175650.13192_0.ltw:2,a&nbsp;&lt;BANLkTi=8GFK_PECUVRZxvNJcpw955u_dLg at mail dot gmail dot com&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
