<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] jack_wait extensions</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] jack_wait extensions</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1311949653.32398_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1311961561.24771_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1311950186.1052_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Fri, 29 Jul 2011 16:36:08 +0200 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Adrian Knoth </span> &lt;[hidden] at drcomp dot erfurt dot thur dot de&gt; </td></tr>
<tr><td class='col1'>To</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
</table>
<pre>
On Fri, Jul 29, 2011 at 01:28:12PM +0300, Nedko Arnaudov wrote:

&gt; &gt; diff --git a/example-clients/wait.c b/example-clients/wait.c
&gt; &gt; index 9150bb6..b6f77e5 100644
&gt; &gt; --- a/example-clients/wait.c
&gt; &gt; +++ b/example-clients/wait.c
&gt; &gt; @@ -92,6 +92,7 @@ main (int argc, char *argv[])
&gt; &gt;
&gt; &gt;  	start_timestamp = time( NULL );
&gt; &gt;
&gt; &gt; +    int rc = 0;
&gt; &gt;  	while(1) {
&gt; &gt;  		client = jack_client_open ("wait", options, &amp;status, server_name);
&gt; &gt;  		/* check for some real error and bail out */
&gt; &gt; @@ -108,6 +109,7 @@ main (int argc, char *argv[])
&gt; &gt;  			}
&gt; &gt;  			if( just_check ) {
&gt; &gt;  				fprintf( stdout, "not running\n" );
&gt; &gt; +                rc = 2;
&gt; &gt;  				break;
&gt; &gt;  			}
&gt; &gt;  		} else {
&gt; &gt; @@ -124,6 +126,7 @@ main (int argc, char *argv[])
&gt; &gt;  		if( wait_timeout ) {
&gt; &gt;  		       if( (time( NULL ) - start_timestamp) &gt; wait_timeout ) {
&gt; &gt;  			       fprintf( stdout, "timeout\n" );
&gt; &gt; +                   rc = 3;
&gt; &gt;  			       break;
&gt; &gt;  		       }
&gt; &gt;  		}
&gt; &gt; @@ -132,5 +135,5 @@ main (int argc, char *argv[])
&gt; &gt;  		sleep(1);
&gt; &gt;  	}
&gt; &gt;
&gt; &gt; -	exit (0);
&gt; &gt; +	exit (rc);
&gt; &gt;  }
&gt; 
&gt; In case that you havent noticed it, your patch mixes tab and space indention.

Indeed. And I haven't noticed it, but now that you mention it, the
existing code also mixes tabs and spaces. The stuff in the wait_timeout
block is space indented while the rest is tab indented.

If there's nothing to discuss on the semantic side, let me come up with
two new patches, one that retabs the wait_timeout section and then one
which adds the exit code functionality.


Cheers

-- 
mail: [hidden]  	http://adi.thur.de	PGP/GPG: key via keyserver
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1311949653.32398_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1311961561.24771_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1311950186.1052_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1311950186.1052_0.ltw:2,a&nbsp;&lt;20110729143608.GU19500 at ltw dot loris dot tv&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
