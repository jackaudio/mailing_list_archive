<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>[Jack-Devel] Is Using Pipes in Jack Callback a Bad Idea?</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>[Jack-Devel] Is Using Pipes in Jack Callback a Bad Idea?</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1322343547.11909_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1322650524.18885_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1322580681.28335_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Tue, 29 Nov 2011 07:29:06 -0800 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Rob Frohne </span> &lt;[hidden] at wallawalla dot edu&gt; </td></tr>
<tr><td class='col1'>To</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
</table>
<pre>
Hi All,

I am adding Jack support to a networked software defined radio server 
&lt;https://github.com/alexlee188/ghpsdr3-alex&gt;, which has several 
threads.  I possibly foolishly connected the audio data coming from the 
network to the Jack callback process with pipes (not named pipes) 
instead of making my own circular queue.  Now I'm having trouble with 
pipe over runs and under runs.  I have previously had no problemusing 
named pipes to send data from capture ports to other programs 
&lt;http://old.nabble.com/Sample-Client-to-Allow-Jack-to-Pipe-to--dev-dsp-How-do-I-contribute-it--td28810959.html&gt;, 
but now sending data coming in over the network (UDP) to the playback 
ports isn't working well.  The application seems to work well with 
blocking calls pulse audio, so at least with enough buffering, it should 
work with Jack.  I have several questions:

1)  Was pipes a bad idea?  (Are they significantly slower than a 
circular queue?)
2)  What is the best way to check how much time a pipe read/write is 
taking, or how much jitter I have in the data coming in over the 
network?  Things I'm considering:

    a) Using calls to the system time function and storing them in an
    array to be dumped to a file after some time testing
    b) using gprof
    c) using bprof

Any advice?

Thanks,

Rob

-- 
Rob Frohne, Ph.D., P.E.
E.F. Cross School of Engineering
Walla Walla University
100 SW 4th Street
College Place, WA 99324
(509) 527-2075			http://people.wallawalla.edu/~rob.frohne
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1322343547.11909_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1322650524.18885_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1322580681.28335_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1322580681.28335_0.ltw:2,a&nbsp;&lt;4ED4FA42.1090509 at wallawalla dot edu&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
