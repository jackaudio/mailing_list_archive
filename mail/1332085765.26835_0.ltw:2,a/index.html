<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] Interpreting 'Clients end date' gnuplot diagram</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] Interpreting 'Clients end date' gnuplot diagram</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1332085054.26405_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1332099694.3427_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1332085765.26835_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Sun, 18 Mar 2012 16:49:12 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> St&#xE9;phane Letz </span> &lt;[hidden] at grame dot fr&gt; </td></tr>
<tr><td class='col1'>To</td><td>D&#xE9;nes Alm&#xE1;si &lt;[hidden] at rudanium dot org&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>Jack Developers &lt;[hidden] at lists dot jackaudio dot org&gt; </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>D&#xE9;nes Alm&#xE1;si
<a href='../1332085054.26405_0.ltw:2,a/index.html'>Re: [Jack-Devel] Interpreting 'Clients end date' gnuplot diagram </a></td></tr>
</table>
<pre>
The audio card interrupt is not regular, so in this case the "synchronous" mode is mandatory.

Then this spike in scheduling timing is rather odd. What is is "shielding script which checks running, processes every 20 seconds for my client and puts it on two exclusive, cores with jack."? Why in the first place?

Client duration spike here (http://denes.rudanium.org/shots/perform-2-clientsduration.png) at 20000 is also strange. Any explanation in your audio process for that? 

St&#xE9;phane

Le 18 mars 2012 &#xE0; 16:37, D&#xE9;nes Alm&#xE1;si a &#xE9;crit :

&gt; I did new tests in both synchronous and asynchronous modes.
&gt; I uploaded all the results:
&gt; 
&gt;  [Asynchonous]
&gt; Audio driver timing:
&gt; http://denes.rudanium.org/shots/perform-2-audiodrivertiming.png
&gt; 
&gt; Clients duration:
&gt; http://denes.rudanium.org/shots/perform-2-clientsduration.png
&gt; 
&gt; Clients end date:
&gt; http://denes.rudanium.org/shots/perform-2-clientsenddate.png
&gt; 
&gt; Driver end date:
&gt; http://denes.rudanium.org/shots/perform-2-driverenddate.png
&gt; 
&gt; Scheduling latency:
&gt; http://denes.rudanium.org/shots/perform-2-schedulinglatency.png
&gt; 
&gt;  [Synchronous]
&gt; Audio driver timing:
&gt; http://denes.rudanium.org/shots/perform-3S-audiodrivertiming.png
&gt; 
&gt; Clients duration:
&gt; http://denes.rudanium.org/shots/perform-3S-clientsduration.png
&gt; 
&gt; Clients end date:
&gt; http://denes.rudanium.org/shots/perform-3S-clientsenddate.png
&gt; 
&gt; Driver end date:
&gt; http://denes.rudanium.org/shots/perform-3S-driverenddate.png
&gt; 
&gt; Scheduling latency:
&gt; http://denes.rudanium.org/shots/perform-3S-schedulinglatency.png
&gt; 
&gt; In synchrnous mode, it works nicely without xruns. But the audio
&gt; driver timing looks really ugly and that can't be good in general.
&gt; It is an onboard soundcard, I don't expect wonders to happen but
&gt; if you have any hints on improving the situation, I would be very
&gt; glad to hear them.
&gt; 
&gt; Also, there is an interesting spike at around the 20000th cycle
&gt; in asynchrnous clients duration and scheduling latency. A possible
&gt; cause is my automatic process shielding script which checks running
&gt; processes every 20 seconds for my client and puts it on two exclusive
&gt; cores with jack. I could imagine that this "switch" can cause a spike
&gt; in scheduling.
&gt; 
&gt; Thank you for your help,
&gt; Dennis
&gt; 
&gt; On 2012-03-18 16:00, St&#xE9;phane Letz wrote:
&gt;&gt; The audio interrupt indeed seems suspicious.  Can you put other
&gt;&gt; diagrams on your site?
&gt;&gt; 
&gt;&gt; You can also try jackd in "synchronous" mode like:
&gt;&gt; 
&gt;&gt; jackd -S -P83 -dalsa -dhw:0 -r48000 -p64 -n3 -Xraw
&gt;&gt; 
&gt;&gt; St&#xE9;phane
&gt;&gt; 
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1332085054.26405_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1332099694.3427_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1332085765.26835_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1332085765.26835_0.ltw:2,a&nbsp;&lt;2DEF933C-3151-4372-9FD5-33A565D3F3E8 at grame dot fr&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
