<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] jack2/ubuntu issue: jack2 does not quit</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] jack2/ubuntu issue: jack2 does not quit</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1333894639.11569_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1333953358.20066_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1333900262.15727_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Sun, 08 Apr 2012 16:51:13 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Rui Nuno Capela </span> &lt;[hidden] at rncbc dot org&gt; </td></tr>
<tr><td class='col1'>To</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Nedko Arnaudov
<a href='../1333894639.11569_0.ltw:2,a/index.html'>Re: [Jack-Devel] jack2/ubuntu issue: jack2 does not quit </a></td></tr>
</table>
<pre>
On 04/08/2012 03:16 PM, Nedko Arnaudov wrote:
&gt; Tim Blechmann&lt;[hidden]&gt;  writes:
&gt;
&gt;&gt; after upgrading to ubuntu 12.04, jackd2 does not quit correctly:
&gt;&gt;
&gt;&gt; hitting `quit' gives me the following message:
&gt;&gt;
&gt;&gt; 11:17:31.920 Client deactivated.
&gt;&gt; 11:17:31.936 D-BUS: JACK server could not be stopped. Sorry

here it says that qjackctl failed to stop the jack-server via d-bus

something's wrong with jackdbus...


&gt;&gt; 11:17:31.937 ALSA connection graph change.
&gt;&gt; Sun Apr  8 11:17:31 2012: Client 'qjackctl' with PID 3821 is out
&gt;&gt; Sun Apr  8 11:17:31 2012: Stopping jack server...
&gt;&gt; Sun Apr  8 11:17:31 2012: Client 'system' with PID 0 is out
&gt;&gt; Sun Apr  8 11:17:31 2012: Client 'PulseAudio JACK Sink' with PID 2727 is out
&gt;&gt; Sun Apr  8 11:17:31 2012: Client 'PulseAudio JACK Source' with PID 2727 is out
&gt;
&gt; So you use qjackctl for controlling jackdbus...
&gt;
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: Abort!
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: info.si_signo = 6
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: info.si_errno = 0
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: Segmentation Fault!
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: info.si_signo = 11
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: info.si_errno = 0
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: info.si_code  = 1 (SEGV_MAPERR)
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: info.si_addr  = 0x525245
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[00]       = 0x00007f808029a582
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[01]       = 0x0000000000000000
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[02]       = 0x00007f808029a2b8
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[03]       = 0x0000000000000246
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[04]       = 0x00007f808029a6f8
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[05]       = 0x0000000000413c3b
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[06]       = 0x0000000000000000
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[07]       = 0x0000000000000014
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[08]       = 0x0000000000525245
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[09]       = 0x0000000000413c4d
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[10]       = 0x00007f808029a3f0
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[11]       = 0x00007f808029a400
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[12]       = 0x0000000000000018
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[13]       = 0x0000000000000000
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[14]       = 0xffffffffffffffff
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[15]       = 0x00007f8080299d90
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[16]       = 0x00007f808402cdba
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[17]       = 0x0000000000010246
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[18]       = 0x0000000000000033
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[19]       = 0x0000000000000004
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[20]       = 0x000000000000000e
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[21]       = 0x0000000080005a27
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: reg[22]       = 0x0000000000525245
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: Stack trace:
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR:  1: 0x7f808402cdba
&gt;&gt; &lt;_IO_vfprintf+10042&gt;  (/lib/x86_64-linux-gnu/libc.so.6)
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR:  2: 0x7f80840ea580
&gt;&gt; &lt;__vsnprintf_chk+176&gt;  (/lib/x86_64-linux-gnu/libc.so.6)
&gt;&gt; Sun Apr  8 11:17:31 2012: ERROR: End of stack trace
&gt;&gt;

jackdbus crashed (segfault) and spitted out some kind of glibc stack 
trace...


&gt;&gt;
&gt;&gt; sometimes i even have to killall -9 jackdbus ...
&gt;
&gt; Unfortunately, this stack trace is not very useful. You should be able
&gt; to get backtrace of all threads by using one of the techniques described
&gt; here:
&gt;
&gt; http://ladish.org/wiki/gdb_dbus_service
&gt;
&gt; Please provide the output of the "thread apply all bt". Enabling verbose
&gt; log (it is a jackdbus "engine" parameter) could give additional info.
&gt;
&gt; I'm not sure what would be the correct approach to debug jackdbus when
&gt; qjackctl is in the mix. In case neither Rui nor annybody else knows, you
&gt; should be able to reproduce the crash without qjackctl, by using the
&gt; commandline frontend to jackdbus, the jack_control script that is part
&gt; of the distribution tarball and should be installed on your distro along
&gt; with jackdbus itself.
&gt;

i cannot tell you why that happens  but the remaining error/abort/crash 
messages do come from the jackdbus log file (~/.log/jack/jackdbus.log) 
-- you can tell that by the funny escape character sequences that appear 
on each "ERROR:..." line, allegedly meaningful on a "polychromatic" tty 
terminal only

byee
-- 
rncbc aka Rui Nuno Capela
[hidden]
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1333894639.11569_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1333953358.20066_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1333900262.15727_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1333900262.15727_0.ltw:2,a&nbsp;&lt;4F81B3F1.2040808 at rncbc dot org&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
