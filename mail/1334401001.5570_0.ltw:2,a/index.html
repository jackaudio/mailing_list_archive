<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>[Jack-Devel] Fwd: Variable delay line problem</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>[Jack-Devel] Fwd: Variable delay line problem</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1334400735.5105_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1334426200.4216_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1334401001.5570_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Sat, 14 Apr 2012 14:56:12 +0400 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> St&#xE9;phane VAXELAIRE </span> &lt;[hidden] at free dot fr&gt; </td></tr>
<tr><td class='col1'>To</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>Follow-Up</td><td>Matthew Robbetts
<a href='../1334426200.4216_0.ltw:2,a/index.html'>Re: [Jack-Devel] Variable delay line problem </a></td></tr>
</table>
<pre>
Maybe I could reset it to 0 each time the sine cross the axis thus having only cos values between 0 and 1 or -1 and 0... Can't try right now...

D&#xE9;but du message transf&#xE9;r&#xE9; :

&gt; Exp&#xE9;diteur: St&#xE9;phane VAXELAIRE &lt;[hidden]&gt;
&gt; Date: 14 avril 2012 14:51:41 UTC+04:00
&gt; Destinataire: Friedrich Ewaldt &lt;[hidden]&gt;
&gt; Cc: "[hidden]" &lt;[hidden]&gt;
&gt; Objet: R&#xE9;p : [Jack-Devel] Variable delay line problem
&gt; 
&gt; Thanks for the Matlab example that's the most explicit I've seen.
&gt; 
&gt; I guess I have the algo right (not 100% sure though) thanks to you and Chris.
&gt; Now my problem seems to be with the 'n' variable.
&gt; 
&gt; I understood from the Matlab example that it is simply a counter from delay buffer length to size of the audio file.
&gt; Now, I'm operating on jack buffer that are 512 samples long. So I can't simply rely on that.
&gt; 
&gt; How an I maintain such an increasing global var if my sound source is my computer line in for instance ?
&gt; Can I modulo it to something ?
&gt; 
&gt; Thank again
&gt; 
&gt; Le 14 avr. 2012 &#xE0; 13:32, Friedrich Ewaldt &lt;[hidden]&gt; a &#xE9;crit :
&gt; 
&gt;&gt; Chris Caudle schrieb am 13.04.2012 23:29:
&gt;&gt;&gt; On Fri, April 13, 2012 11:52 am, St&#xE9;phane VAXELAIRE wrote:
&gt;&gt;&gt;&gt; Thanks, I did try that, but when I do, the sine does not seem to evolve.
&gt;&gt;&gt; 
&gt;&gt;&gt; Maybe I suggested the division in the incorrect location.
&gt;&gt;&gt; I tried the equivalent in Octave, and it seems to work with:
&gt;&gt;&gt; cos(n/Fs*2*pi*freq)
&gt;&gt;&gt; 
&gt;&gt;&gt; I don't remember how operator order of precedence works in Octave, so I
&gt;&gt;&gt; also tried:
&gt;&gt;&gt; cos(2*pi*n*(freq/sample_rate))
&gt;&gt;&gt; 
&gt;&gt;&gt; and that also seemed to work like expected.
&gt;&gt;&gt; 
&gt;&gt;&gt; By work as expected, I just mean it generated cosine values of the
&gt;&gt;&gt; expected period.  I did not try to actually implement a variable delay so
&gt;&gt;&gt; that I could make a flanger in Octave code.
&gt;&gt;&gt; 
&gt;&gt; 
&gt;&gt; If you are looking for a flanger implemented in Matlab (most probably works with litte or no changes also in Octave) you may take a look at e.g.
&gt;&gt; http://www.mathworks.com/matlabcentral/fileexchange/6656-flange-effect
&gt;&gt; 
&gt;&gt; or this nice presentation containing flanger Matlab code as well:
&gt;&gt; 
&gt;&gt; http://www.cs.cf.ac.uk/Dave/CM0268/PDF/10_CM0268_Audio_FX.pdf
&gt;&gt; 
&gt;&gt; or in general:
&gt;&gt; 
&gt;&gt; http://www.google.com/search?q=flanger+octave+OR+matlab
&gt;&gt; 
&gt;&gt;&gt; Are you doing any prototype code in Octave, or is everything in C?
&gt;&gt;&gt; 
&gt;&gt;&gt; Also, I didn't really pay attention to how you were implementing the
&gt;&gt;&gt; delay.  I had assumed you would do an interpolated delay so you can make
&gt;&gt;&gt; smooth phase adjustments.  If you are just grabbing samples from the delay
&gt;&gt;&gt; buffer, you are going to have discontinuous jumps between samples, and
&gt;&gt;&gt; that is going to sound really bad, just like having lots of under-runs
&gt;&gt;&gt; (same effect, you are just skipping over some samples and not playing
&gt;&gt;&gt; them).
&gt;&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Jack-Devel mailing list
&gt;&gt; [hidden]
&gt;&gt; http://lists.jackaudio.org/listinfo.cgi/jack-devel-jackaudio.org
&gt; 
&gt; Jack-Devel mailing list
&gt; [hidden]
&gt; http://lists.jackaudio.org/listinfo.cgi/jack-devel-jackaudio.org
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1334400735.5105_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1334426200.4216_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1334401001.5570_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1334401001.5570_0.ltw:2,a&nbsp;&lt;A9F220B7-BD55-4BFD-AC44-B2F86AE0A873 at free dot fr&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
