Date:        Wed, 02 May 2012 12:22:56 +0800
From:        andre  <[hidden] at paleotek dot com>
To:          'Paul Davis' <[hidden] at linuxaudiosystems dot com>
Cc:          [hidden] at lists dot jackaudio dot org
In-Reply-To: Paul Davis Re: [Jack-Devel] cannot assign buffer for port (1335532689.26861_0.ltw:2,Sa)

Subject:     Re: [Jack-Devel] cannot assign buffer for port

Dear Paul,
I deal the version problem at first.

originally, I installed jack1 by ubuntu Synaptic Packet Manager (choose
jackd).
And version 0.118 seems to be the newest version, even through I use apt-get
to upgrade.

So I try to download the source code and build it. As following:
git clone git://github.com/jackaudio/jack1.git
cd jack1
git submodule init
git submodule update
./autogen.sh
./configure --prefix=/usr
make
sudo make install

... But I wonder if the installation successfully? since I still see the
version 0.118 in the ubuntu Synaptic Packet Manager.

The last remaining message of installation is as following :
======================================================
libtool: finish:
PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/X11R
6/bin:/sbin" ldconfig -n /usr/lib/jack
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/lib/jack

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,-rpath -Wl,LIBDIR' linker flag
   - have your system administrator add LIBDIR to `/etc/ld.so.conf'

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------
make[2]: Leaving directory `/home/asteriskpbx/jack1/example-clients'
make[1]: Leaving directory `/home/asteriskpbx/jack1/example-clients'
Making install in tools
make[1]: Entering directory `/home/asteriskpbx/jack1/tools'
make[2]: Entering directory `/home/asteriskpbx/jack1/tools'
test -z "/usr/bin" || /bin/mkdir -p "/usr/bin"
  /bin/bash ../libtool   --mode=install /usr/bin/install -c jack_load
jack_unload jack_monitor_client jack_connect jack_disconnect jack_lsp
jack_freewheel jack_evmon jack_alias jack_bufsize jack_samplerate
jack_session_notify jack_wait jack_midi_dump jack_iodelay jack_load_test
jack_transport jack_netsource '/usr/bin'
libtool: install: /usr/bin/install -c .libs/jack_load /usr/bin/jack_load
libtool: install: /usr/bin/install -c .libs/jack_unload /usr/bin/jack_unload
libtool: install: /usr/bin/install -c .libs/jack_monitor_client
/usr/bin/jack_monitor_client
libtool: install: /usr/bin/install -c .libs/jack_connect
/usr/bin/jack_connect
libtool: install: /usr/bin/install -c .libs/jack_disconnect
/usr/bin/jack_disconnect
libtool: install: /usr/bin/install -c .libs/jack_lsp /usr/bin/jack_lsp
libtool: install: /usr/bin/install -c .libs/jack_freewheel
/usr/bin/jack_freewheel
libtool: install: /usr/bin/install -c .libs/jack_evmon /usr/bin/jack_evmon
libtool: install: /usr/bin/install -c .libs/jack_alias /usr/bin/jack_alias
libtool: install: /usr/bin/install -c .libs/jack_bufsize
/usr/bin/jack_bufsize
libtool: install: /usr/bin/install -c .libs/jack_samplerate
/usr/bin/jack_samplerate
libtool: install: /usr/bin/install -c .libs/jack_session_notify
/usr/bin/jack_session_notify
libtool: install: /usr/bin/install -c .libs/jack_wait /usr/bin/jack_wait
libtool: install: /usr/bin/install -c .libs/jack_midi_dump
/usr/bin/jack_midi_dump
libtool: install: /usr/bin/install -c .libs/jack_iodelay
/usr/bin/jack_iodelay
libtool: install: /usr/bin/install -c .libs/jack_load_test
/usr/bin/jack_load_test
libtool: install: /usr/bin/install -c .libs/jack_transport
/usr/bin/jack_transport
libtool: install: /usr/bin/install -c .libs/jack_netsource
/usr/bin/jack_netsource
make[2]: Nothing to be done for `install-data-am'.
make[2]: Leaving directory `/home/asteriskpbx/jack1/tools'
make[1]: Leaving directory `/home/asteriskpbx/jack1/tools'
Making install in config
make[1]: Entering directory `/home/asteriskpbx/jack1/config'
make[2]: Entering directory `/home/asteriskpbx/jack1/config'
make[3]: Entering directory `/home/asteriskpbx/jack1/config'
make[3]: Nothing to be done for `install-exec-am'.
make[3]: Nothing to be done for `install-data-am'.
make[3]: Leaving directory `/home/asteriskpbx/jack1/config'
make[2]: Leaving directory `/home/asteriskpbx/jack1/config'
make[1]: Leaving directory `/home/asteriskpbx/jack1/config'
Making install in man
make[1]: Entering directory `/home/asteriskpbx/jack1/man'
make  install-am
make[2]: Entering directory `/home/asteriskpbx/jack1/man'
make[3]: Entering directory `/home/asteriskpbx/jack1/man'
make[3]: Nothing to be done for `install-exec-am'.
test -z "/usr/share/man/man1" || /bin/mkdir -p "/usr/share/man/man1"
 /usr/bin/install -c -m 644 alsa_in.1 alsa_out.1 jack_bufsize.1
jack_connect.1 jack_disconnect.1 jack_freewheel.1 jack_impulse_grabber.1
jack_iodelay.1 jack_load.1 jack_load_test.1 jack_lsp.1 jack_metro.1
jack_monitor_client.1 jack_netsource.1 jackrec.1 jack_samplerate.1
jack_showtime.1 jack_transport.1 jack_unload.1 jack_wait.1
'/usr/share/man/man1'
make[3]: Leaving directory `/home/asteriskpbx/jack1/man'
make[2]: Leaving directory `/home/asteriskpbx/jack1/man'
make[1]: Leaving directory `/home/asteriskpbx/jack1/man'
Making install in python
make[1]: Entering directory `/home/asteriskpbx/jack1/python'
make[2]: Entering directory `/home/asteriskpbx/jack1/python'
make[2]: Nothing to be done for `install-exec-am'.
make[2]: Nothing to be done for `install-data-am'.
make[2]: Leaving directory `/home/asteriskpbx/jack1/python'
make[1]: Leaving directory `/home/asteriskpbx/jack1/python'
make[1]: Entering directory `/home/asteriskpbx/jack1'
make[2]: Entering directory `/home/asteriskpbx/jack1'
make[2]: Nothing to be done for `install-exec-am'.
test -z "/usr/include/jack" || /bin/mkdir -p "/usr/include/jack"
 /usr/bin/install -c -m 644 jack/intclient.h jack/jack.h jack/ringbuffer.h
jack/statistics.h jack/session.h jack/thread.h jack/transport.h jack/types.h
jack/midiport.h jack/weakmacros.h jack/weakjack.h jack/control.h
jack/jslist.h '/usr/include/jack'
test -z "/usr/lib/pkgconfig" || /bin/mkdir -p "/usr/lib/pkgconfig"
 /usr/bin/install -c -m 644 jack.pc '/usr/lib/pkgconfig'
make[2]: Leaving directory `/home/asteriskpbx/jack1'
make[1]: Leaving directory `/home/asteriskpbx/jack1'
======================================================
Can you suggest to me?

Best Regard, Andre

-----Original Message-----
From: Paul Davis [mailto:[hidden]] 
Sent: Friday, April 27, 2012 9:18 PM
To: andre
Cc: [hidden]
Subject: Re: [Jack-Devel] cannot assign buffer for port

On Fri, Apr 27, 2012 at 8:24 AM, andre <[hidden]> wrote:

(1) 0.118 is considered rather old at this point. there are important bug
fixes since then.

> all 32 bit float mono audio port buffers in use!

(2) this is an important message - you just ran out of JACK ports. You need
to find out what command asterisk used to invoke JACK. The following command
might be a good way to try that, after it has
started:

      ps aux | grep jackd

and then you need to find out how many ports asterisk is trying to create.

1335933997.13629_0.ltw:2,a <4fa0b69d.44d5320a.2e4d.1be1 at mx dot google dot com>
________________________________________________________________________________

