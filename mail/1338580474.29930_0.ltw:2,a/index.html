<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] [LAU] jack2 turned verbose</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] [LAU] jack2 turned verbose</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1338572334.19355_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1338584714.2523_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1338580474.29930_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Fri, 01 Jun 2012 22:54:11 +0300 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Nedko Arnaudov </span> &lt;[hidden] at arnaudov dot name&gt; </td></tr>
<tr><td class='col1'>To</td><td>David Adler &lt;[hidden] at gmail dot com&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>David Adler
<a href='../1338569373.16379_0.ltw:2,a/index.html'>Re: [Jack-Devel] [LAU] jack2 turned verbose </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>Florian Paul Schmidt
<a href='../1338715293.837_0.ltw:2,a/index.html'>Re: [Jack-Devel] [LAU] jack2 turned verbose </a></td></tr>
</table>
<pre>
David Adler &lt;[hidden]&gt; writes:

&gt; On Fri, Jun 1, 2012 at 4:21 PM, Nedko Arnaudov wrote:
&gt;&gt; David Adler writes:
&gt;&gt;&gt; On Fri, Jun 1, 2012 at 2:52 PM, Robin Gareus wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; It might have to do with Arch's compiler[-flags] and how jack2 uses
&gt;&gt;&gt;&gt; unions .. or scoping: JackGlobals vs Engine-Parameters.. although I
&gt;&gt;&gt;&gt; don't have an explanation.. all seems good.
&gt;&gt;&gt;
&gt;&gt;&gt; Compiler flags (for 32bit) are, (from unaltered /etc/makepkg.conf):
&gt;&gt;&gt; CXXFLAGS="-march=i686 -mtune=generic -O2 -pipe -fstack-protector
&gt;&gt;&gt; --param=ssp-buffer-size=4 -D_FORTIFY_SOURCE=2"
&gt;&gt;
&gt;&gt; Don't use -O2 nor -O1, use -O0
&gt;&gt;
&gt;&gt; I'm aware of at least one *compiler* bug that causes jackdbus to
&gt;&gt; misbehave. Yes, i analyzed the generated assembly. Affected are both
&gt;&gt; i32 and amd64 targets. Atm the only reports are from Arch users. The bad
&gt;&gt; machine code is created for th control api implementation, in parts that
&gt;&gt; use unions (jack parameter values).
&gt;
&gt; Symptoms disappear when using -fpermissive and/or -O0 (instead of -O2),
&gt; with no changes in the source files.
&gt;
&gt; So is this then an upstream or a downstream issue?

both. arch (downstream) is pushing recently released (upstream)
compiler. jack control api implementaiton triggers the bug. its not
issue in jack itself but its still problem for jack users.

&gt; Nedko, does your advice to use -O0 only concern Jack or everything?
&gt; I'm compiling lots of software here, usually -O2 usually doesn't seem
&gt; to cause problems.

YMMV. Default compiler in my distro (Gentoo) works properly. jack also
"works", until you find that it misbehaves. You can only be sure if you
have tests that cover 100% of the code. Neither jack1 nor jack2 have
such.

-- 
Nedko Arnaudov &lt;GnuPG KeyID: 5D1B58ED&gt;
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1338572334.19355_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1338584714.2523_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1338580474.29930_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1338580474.29930_0.ltw:2,a&nbsp;&lt;878vg6kduk.fsf at arnaudov dot name&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
