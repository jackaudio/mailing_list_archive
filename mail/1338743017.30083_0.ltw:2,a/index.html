<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] [LAU] jack2 turned verbose</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] [LAU] jack2 turned verbose</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1338740189.25841_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1338743248.30362_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1338743017.30083_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Sun, 03 Jun 2012 20:03:20 +0300 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Nedko Arnaudov </span> &lt;[hidden] at arnaudov dot name&gt; </td></tr>
<tr><td class='col1'>To</td><td>Fons Adriaensen &lt;[hidden] at linuxaudio dot org&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Nedko Arnaudov
<a href='../1338653382.19934_0.ltw:2,a/index.html'>Re: [Jack-Devel] [LAU] jack2 turned verbose </a></td></tr>
</table>
<pre>
Nedko Arnaudov &lt;[hidden]&gt; writes:

&gt; Fons Adriaensen &lt;[hidden]&gt; writes:
&gt;
&gt;&gt; What this tells me is that one should test booleans against
&gt;&gt; boolean constants, and ints against int constants, and *not*
&gt;&gt; mix them up. Which I guess the libdbus code is doing.
&gt;
&gt; This guesswork fails. libdbus doesnt do this if only because it uses
&gt; dbus_bool_t and not C99 nor C++ bool. OTOH this is quickly becomming
&gt; offtopic and dbus-fud-y. The problem is the incorrect machine code
&gt; generated by gcc-4.7.0. That code is not in libdbus, its produced from
&gt; JackControlAPI.cpp in the jack2 source tree. You can prove the bug by
&gt; disassemling the jackctl_server_create function. The call for adding the
&gt; verbose parameter doesnt update the stack variable called "value" which
&gt; is set just before the call, line 667. If someone can explain why this
&gt; is invalid C code, please do it. If someone cares to produce an isolated
&gt; test case please do it and then report upstream (gcc). In the latter
&gt; case we can at least expect some gcc guru to decide if its a gcc bug or
&gt; invalid C code.

I just realized that I used wrong source tree, so line numbers I
previously refered to were wrong. Sorry for the confusion.

With 007cdc37142a441e51b8ff27fb2e249bf8bcc916 (latest git master):

The default value of the "temporary" parameter is set on line 707.
The default value of the "verbose" parameter is set on line 721.
The default value of the "realtime-priority" is set on line 692.

The assert in libdbus reproducible with jackdbus happens when value of
the "temporary" parameter is serialized (with "jack_control ep", for
example). "temporary" is the first boolean that is registered after
"realtime-priority", with default value of 10.

-- 
Nedko Arnaudov &lt;GnuPG KeyID: 5D1B58ED&gt;
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1338740189.25841_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1338743248.30362_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1338743017.30083_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1338743017.30083_0.ltw:2,a&nbsp;&lt;87d35ggwfb.fsf at arnaudov dot name&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
