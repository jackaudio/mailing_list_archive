<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] Everything works with JACK, but I always got "Cannot lock down ..." message at startup</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] Everything works with JACK, but I always got "Cannot lock down ..." message at startup</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1354715795.19210_0.ltw:2,/index.html'>Prev</a></td><td><a href='../1354719315.22196_0.ltw:2,/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1354715976.19279_0.ltw:2,'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Wed, 05 Dec 2012 15:59:35 +0200 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Stefan Stefanov </span> &lt;[hidden] at gmail dot com&gt; </td></tr>
<tr><td class='col1'>To</td><td>Adrian Knoth &lt;[hidden] at drcomp dot erfurt dot thur dot de&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>JACK &lt;[hidden] at lists dot jackaudio dot org&gt; </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Stefan Stefanov
<a href='../1354715795.19210_0.ltw:2,/index.html'>Re: [Jack-Devel] Everything works with JACK, but I always got "Cannot lock down ..." message at startup </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>Adrian Knoth
<a href='../1354719315.22196_0.ltw:2,/index.html'>Re: [Jack-Devel] Everything works with JACK, but I always got "Cannot lock down ..." message at startup </a></td></tr>
</table>
<pre>
&gt;-P 95 seems pretty high

BTW, having in mind my equipment what would be reasonable priority value?

2012/12/5 Stefan Stefanov &lt;[hidden]&gt;:
&gt; mpd stands for Music Player Daemon -&gt;
&gt; http://mpd.wikia.com/wiki/Music_Player_Daemon_Wiki,
&gt; and I use it to play music from my homeserver (media PC), through
&gt; optical SPDIF on my sound card to the my home Hi-End audio components.
&gt; Optical signal from my homeserver goes directly to the Audiolab's
&gt; M-DAC.
&gt; That is why I choose 96kHz, and I don't really understand what you
&gt; meant with "MP3 player".
&gt;
&gt; Here is output from "ulimit -a":
&gt; core file size          (blocks, -c) 0
&gt; data seg size           (kbytes, -d) unlimited
&gt; scheduling priority             (-e) 39
&gt; file size               (blocks, -f) unlimited
&gt; pending signals                 (-i) 31571
&gt; max locked memory       (kbytes, -l) unlimited
&gt; max memory size         (kbytes, -m) unlimited
&gt; open files                      (-n) 1024
&gt; pipe size            (512 bytes, -p) 8
&gt; POSIX message queues     (bytes, -q) 819200
&gt; real-time priority              (-r) 95
&gt; stack size              (kbytes, -s) 8192
&gt; cpu time               (seconds, -t) unlimited
&gt; max user processes              (-u) 31571
&gt; virtual memory          (kbytes, -v) unlimited
&gt; file locks                      (-x) unlimited
&gt;
&gt;
&gt;&gt;Given that you
&gt;&gt;probably run this via systemd, make sure your ulimit settings also apply
&gt;&gt;to programs spawned from there.
&gt;
&gt; Yes, I'm run it via systemd and new in using this system. I have to
&gt; find a way how to check whether my settings are applied in programs
&gt; spawned from systemd.
&gt;
&gt;
&gt; 2012/12/5 Adrian Knoth &lt;[hidden]&gt;:
&gt;&gt; On Wed, Dec 05, 2012 at 03:25:41PM +0200, Stefan Stefanov wrote:
&gt;&gt;
&gt;&gt;&gt; I'm using JACK with mpd. Everything works, but I'm confused with
&gt;&gt;
&gt;&gt; mpd? The media player?
&gt;&gt;
&gt;&gt;&gt; following message in my log:
&gt;&gt;&gt; "Cannot lock down 82274202 byte memory area (Cannot allocate memory)"
&gt;&gt;
&gt;&gt; Funny. This either means there is not enough memory you can lock or, for
&gt;&gt; some obscure reasons, max locked memory is less than you think it is.
&gt;&gt;
&gt;&gt; Check ulimit -a for max memory size and virtual memory. Given that you
&gt;&gt; probably run this via systemd, make sure your ulimit settings also apply
&gt;&gt; to programs spawned from there.
&gt;&gt;
&gt;&gt;&gt; 1) Here is how I start JACK:
&gt;&gt;&gt; /usr/bin/jackd -R -P 95 -d alsa -P hw:0,1 -r 96000 -p 64 -n 2 -z s
&gt;&gt;
&gt;&gt; You can omit -R, it's the default. -P 95 seems pretty high, but if
&gt;&gt; you're fine with it, why not. Though I wonder why one would use 96kHz
&gt;&gt; with 0.7ms latency for an MP3 player.
&gt;&gt;
&gt;&gt;
&gt;&gt; Cheers
&gt;&gt;
&gt;&gt; --
&gt;&gt; mail: [hidden]       http://adi.thur.de      PGP/GPG: key via keyserver
&gt;&gt;
&gt;&gt; 
&gt;&gt; Jack-Devel mailing list
&gt;&gt; [hidden]
&gt;&gt; http://lists.jackaudio.org/listinfo.cgi/jack-devel-jackaudio.org
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1354715795.19210_0.ltw:2,/index.html'>Prev</a></td><td><a href='../1354719315.22196_0.ltw:2,/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1354715976.19279_0.ltw:2,'>Index</a></td></tr>
</table>
<p><small>1354715976.19279_0.ltw:2,&nbsp;&lt;CACbSjoV=iWKhwxF5Ty5HXd9Np7nq=3A=wpNFzbfj4BmzDi7Nzw at mail dot gmail dot com&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
