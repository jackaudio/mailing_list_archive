<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>[Jack-Devel] Windows dev: error linking libjack64.lib</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>[Jack-Devel] Windows dev: error linking libjack64.lib</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1358420252.32488_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1358422361.3861_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1358422259.3576_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Thu, 17 Jan 2013 12:30:54 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Julien Rosener </span> &lt;[hidden] at digital-scratch dot org&gt; </td></tr>
<tr><td class='col1'>To</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>Follow-Up</td><td>St&#xE9;phane Letz
<a href='../1358426892.11430_0.ltw:2,Sa/index.html'>Re: [Jack-Devel] Windows dev: error linking libjack64.lib </a></td></tr>
</table>
<pre>
Hello,

I am trying to port an application using Jack from Linux to Windows. I
have an issue when linking with libjack64.

My development environment is Windows 7 64 bits + QtCreator (using
Visual Studio 10.0 as compiler/linker).

I installed Jack binaries for Windows and found Jack\lib\libjack64.lib
and C:\Windows libjack64.dll.
I would like to use these 2 files to link with Jack, for that I wrote
a small exemple with QtCreator.

[.pro]
This is the part about lib linking (.lib and .dll are in
jack-1.9.9/lib/, .h are in jack-1.9.9/includes) :

win32: LIBS += -L$$PWD/jack-1.9.9/lib/ -llibjack64
INCLUDEPATH += $$PWD/jack-1.9.9/includes
DEPENDPATH += $$PWD/jack-1.9.9/includes

[.cpp]
#include &lt;jack/jack.h&gt;
int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    QLabel versions;

    // get jack version
    versions.setText(QString("libjack v") + QString(jack_get_version_string()));

    versions.show();
    return a.exec();
}

[Build error]
Compilation is OK, but link stage fails with:
"main.obj : error LNK2019: unresolved external symbol
_jack_get_version_string referenced in _main"

[Comments]
I do not understand why it is failling because I am always doing
successfully like that with other libs, I have got suppositions :
- some paths are wrong ?
- should I link statically instead of dynamically ?
- libjack64.lib was not compiled with a MSVC compiler and so I can't
link using MSVC ?
- is it a QtCreator related issue ?

If it is not possible (for some reasons) to link against
libjack64.lib, would it be a good solution to load only libjack64.dll
at runtime using LoadLibrary("libjack64.dll") ?
Another solution is to recompile Jack on Windows but I only have
Visual Studio 2012 express which seems not to be supported according
to the REAMDE in Windows source directory.

I am definitely not a Windows developer, so maybe I just do not
understand nicely how DLL linking is working.

Do you have any idea what is the best way to link libjack64 using MSVC
compiler ?

Bests,
Julien.
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1358420252.32488_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1358422361.3861_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1358422259.3576_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1358422259.3576_0.ltw:2,a&nbsp;&lt;CAKMA=NajeFGXUHssb3K+9Tvm31CNBh8yr2T4c=hk=v_H+MYc6g at mail dot gmail dot com&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
