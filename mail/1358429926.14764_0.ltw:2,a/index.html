<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] debian jack/pulse support [ was : Re: JACK in Chrome !! ]</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] debian jack/pulse support [ was : Re: JACK in Chrome !! ]</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1358429226.14317_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1358430001.14792_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1358429926.14764_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Thu, 17 Jan 2013 14:38:34 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> David Henningsson </span> &lt;[hidden] at canonical dot com&gt; </td></tr>
<tr><td class='col1'>To</td><td>Paul Davis &lt;[hidden] at linuxaudiosystems dot com&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>JACK &lt;[hidden] at lists dot jackaudio dot org&gt; </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Paul Davis
<a href='../1358426894.11433_0.ltw:2,a/index.html'>Re: [Jack-Devel] debian jack/pulse support [ was : Re: JACK in Chrome !! ] </a></td></tr>
</table>
<pre>
On 01/17/2013 01:48 PM, Paul Davis wrote:
&gt;
&gt;
&gt;
&gt; On Thu, Jan 17, 2013 at 7:33 AM, David Henningsson
&gt; &lt;[hidden]
&gt; &lt;mailto:[hidden]&gt;&gt; wrote:
&gt;
&gt;     On 01/17/2013 12:57 PM, Paul Davis wrote:
&gt;
&gt;
&gt;
&gt;         that document includes this line:
&gt;
&gt;         "This can be necessary for running low-latency audio without
&gt;         drop-outs,
&gt;         but is bad from a security and stability point of view, as a process
&gt;         running with real-time privileges can lock up the entire system
&gt;         completely. "
&gt;
&gt;         this is no longer true. it is trivial to configure the amount of
&gt;         time
&gt;         that RT-scheduled tasks can consume. it can no longer be used as an
&gt;         explanation of why RT scheduling is problematic.
&gt;
&gt;
&gt;     I'm not a security expert, so excuse me if these are stupid
&gt;     questions, but...
&gt;
&gt;     First, I tried to look this up on
&gt;     http://jackaudio.org/linux_rt___config
&gt;     &lt;http://jackaudio.org/linux_rt_config&gt; but I saw no such documentation.
&gt;
&gt;
&gt; from my experience to date, all distros come with this already
&gt; configured because it is the default in the kernel. the kernel reserves
&gt; a (small) amount of time for non RT-scheduled tasks.
&gt;
&gt; we also have not documented it for two additional reasons:
&gt;
&gt;     (1) we don't want to suggest that users should be messing with these
&gt; kernel parameters
&gt;     (2) confusion about cgroups, which has been made worse by different
&gt; distributions (initially, at least) doing very different things with cgroups
&gt;
&gt;     Second, your argument seems to apply to RT scheduling only - what
&gt;     about memlock?
&gt;
&gt;
&gt; memlock cannot cause the machine to lock up. it can cause other
&gt; problems, but they are more akin to a swap storm than a lock up, and
&gt; like RT scheduling, the amount that the user can lock can be finely
&gt; controlled (though it would be nice if the syntax for the relevant files
&gt; allowed expressions like "80%" rather than fixed amounts of space.
&gt;
&gt;     Third, if you were a maintainer of an general purpose distro, that
&gt;     should be able to do everything from pro-audio, consumer audio,
&gt;     gaming, run on laptops with decent battery life, to multi-user ssh
&gt;     and web servers and all that, how do you recommend we set RT and
&gt;     memlock privileges for the user by default?
&gt;
&gt;
&gt; at this point in time, i personally can see absolutely no reason why a
&gt; regular user should not have access to RT scheduling or memlock if the
&gt; kernel and PAM (or equivalent) are normally and appropriately
&gt; configured. give the user the ability to memlock 75% of the system RAM,
&gt; make sure that the RT scheduling parameters reserve 5% of the CPU for
&gt; non-RT tasks. done.
&gt;

Thanks for your answers. I'm not knowledgeable enough to tell if you're 
right or wrong, but I just brought it up on the ubuntu-devel mailinglist 
to see what other people have to say about it.

https://lists.ubuntu.com/archives/ubuntu-devel/2013-January/036336.html


-- 
David Henningsson, Canonical Ltd.
https://launchpad.net/~diwic
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1358429226.14317_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1358430001.14792_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1358429926.14764_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1358429926.14764_0.ltw:2,a&nbsp;&lt;50F7FEDA.9030004 at canonical dot com&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
