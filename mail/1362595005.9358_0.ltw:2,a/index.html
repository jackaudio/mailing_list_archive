<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] Mixing inside process callback</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] Mixing inside process callback</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1362550967.27008_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1362614217.2803_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1362595005.9358_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Wed, 06 Mar 2013 19:36:30 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Slavko Glamo&#x10D;anin </span> &lt;[hidden] at gmail dot com&gt; </td></tr>
<tr><td class='col1'>To</td><td>Patrick Robin &lt;[hidden] at hotmail dot com&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Patrick Robin
<a href='../1362327081.13677_0.ltw:2,a/index.html'>[Jack-Devel] Mixing inside process callback </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>John Rigg
<a href='../1362652560.31791_0.ltw:2,a/index.html'>Re: [Jack-Devel] Mixing inside process callback </a></td></tr>
</table>
<pre>
Dear sir!

This is a basic sound design question and i feel you will have many more on
the path you have chosen:)

Jack doesn't care if you produce abnormal values and strange things start
to happen if you do.

Quite basically, when writing values to the jack buffer, if the value is
below -1, set it to 1, if it's above 1 set it to 1.

Everything else should be up to the user, set the default mixing volume
around 0.8.

You could also create a limiting curve to map actual values to limited
values and so emulate a limiter.

Good luck.
Slavko

On Sun, Mar 3, 2013 at 5:11 PM, Patrick Robin &lt;[hidden]&gt; wrote:

&gt;
&gt; Hi
&gt; &lt;http://themail.com/ref.htm?ref=917508&gt;
&gt; I am writing a Jack client  ( a drum instrument  using the NDK samples
&gt; library )
&gt;
&gt; The client is polyphonic, 42-60 voices since many drum hits need to play
&gt; at the same time.
&gt;
&gt; It is my understanding that all audio samples we write to the jack audio
&gt; buffers must be in the -1.0 1.0 range?
&gt;
&gt; How does jack deal with values outside of this range , clipping? normalize?
&gt;
&gt; To stay within the -1.0 1.0 range, I need to mix all active voices. I
&gt; tried multiplying all active voices by 1/n  (where n is the number of
&gt; voices) but it is not realistic sounding since very quiet drums will bring
&gt; down the volume of louder cymbals for examples. Also if n= the total number
&gt; of possible voices (active or not) a single playing voice gets way too
&gt; quiet. If I use n= active voices only, the volume will shift during
&gt; playback as voices become active or dead.
&gt;
&gt; Is there a more realistic way to mix various voices?
&gt;
&gt; Thank You
&gt;
&gt; Patrick Robin
&gt;
&gt;
&gt; 
&gt; Jack-Devel mailing list
&gt; [hidden]
&gt; http://lists.jackaudio.org/listinfo.cgi/jack-devel-jackaudio.org
&gt;
&gt;
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1362550967.27008_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1362614217.2803_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1362595005.9358_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1362595005.9358_0.ltw:2,a&nbsp;&lt;CAKQ7E0q2BzT2K4RfnwAhVQ5X6ormGAh7gZ3eqvpjwEGrRKeA2A at mail dot gmail dot com&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
