<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] Graph callback and client state</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] Graph callback and client state</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1365538615.15122_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1365539405.15962_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1365539255.15838_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Tue, 09 Apr 2013 21:27:28 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Harry van Haaren </span> &lt;[hidden] at gmail dot com&gt; </td></tr>
<tr><td class='col1'>To</td><td>Paul Davis &lt;[hidden] at linuxaudiosystems dot com&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>jack-devel &lt;[hidden] at lists dot jackaudio dot org&gt; </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Paul Davis
<a href='../1365537091.13391_0.ltw:2,a/index.html'>Re: [Jack-Devel] Graph callback and client state </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>Paul Davis
<a href='../1365539405.15962_0.ltw:2,a/index.html'>Re: [Jack-Devel] Graph callback and client state </a></td></tr>
</table>
<pre>
On Tue, Apr 9, 2013 at 8:51 PM, Paul Davis &lt;[hidden]&gt;
wrote:
&gt; there is always a race ... sometime between when you get the ports and
when you use the information, ports could be added, removed or become
inactive.

Perhaps I'm really barking up the wrong tree, but I'm learning in the
process here..

Add the flag as described previously to JackPortFlags,
Every time a port has its "active" flag toggled, trigger the existing
GraphOrderCallback.
I think this is what makes most patchbays update / redraw, hence state will
be up to date.

That would avoid the race between a client marking active (and hence its
ports becoming active),
and the jack_port_flags() call.. since the callback updates state, and the
patchbay client won't have to poll?

Perhaps I'm understanding the race wrong?
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1365538615.15122_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1365539405.15962_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1365539255.15838_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1365539255.15838_0.ltw:2,a&nbsp;&lt;CAKudYbMQUKFXpJht5t=PL-AByrcTnO8-1SQwiaxh1R4pbuDJFw at mail dot gmail dot com&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
