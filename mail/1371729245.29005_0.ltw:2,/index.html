<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] Fwd: Bug#712484: [jackd2] "Cannot create shm registry segment (Permission denied)"</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] Fwd: Bug#712484: [jackd2] "Cannot create shm registry segment (Permission denied)"</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1371716998.6960_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1371749547.26067_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1371729245.29005_0.ltw:2,'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Thu, 20 Jun 2013 07:54:01 -0400 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Paul Davis </span> &lt;[hidden] at linuxaudiosystems dot com&gt; </td></tr>
<tr><td class='col1'>To</td><td>Adrian Knoth &lt;[hidden] at drcomp dot erfurt dot thur dot de&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>jack-devel &lt;[hidden] at lists dot jackaudio dot org&gt; </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Adrian Knoth
<a href='../1371716998.6960_0.ltw:2,a/index.html'>[Jack-Devel] Fwd: Bug#712484: [jackd2] "Cannot create shm registry segment (Permission denied)" </a></td></tr>
</table>
<pre>
currently in jack1 the choice between sysv and posix shm APIs was/is made
on the basis of one of them not working. i personally prefer the posix one
(shm_open, etc), but it has to actually work correctly to be useful.

now you're going to ask me what was broken about it ...


On Thu, Jun 20, 2013 at 4:29 AM, Adrian Knoth &lt;[hidden]&gt;wrote:

&gt; Hi!
&gt;
&gt;
&gt; Here's a Debian bug report we've recently received. The /run/shm issue
&gt; is not critical, it's certainly working for most people, so somebody
&gt; will figure out why /run/shm wasn't mounted. /dev/shm is just a symlink
&gt; to /run/shm on Debian systems these days.
&gt;
&gt; More importantly: do we care about the aspect mentioned in the wiki? It
&gt; says:
&gt;
&gt;    If you're using /dev/shm directly, then your package is broken. You
&gt;    should only be accessing it via the eglibc shm_* and sem_* functions
&gt;    implementing the POSIX SHM and SEM features. If we do eventually
&gt;    deprecate /dev/shm in favour of /run/shm, eglibc will need
&gt;    configuring to use /run/shm directly. In consequence, if you are
&gt;    using the standard interfaces such as shm_open, sem_open etc., no
&gt;    transition is required.
&gt;
&gt;
&gt; The same more or less holds true for jackd1. I'm perfectly happy to keep
&gt; the status quo and do a downstream package transition instead of
&gt; changing code upstream. However, if you prefer to go the shm_* way, I
&gt; can give it a shot.
&gt;
&gt;
&gt; WDYT?
&gt;
&gt; -------- Original Message --------
&gt; Subject: Bug#712484: [jackd2] "Cannot create shm registry segment
&gt; (Permission denied)"
&gt; Date: Sun, 16 Jun 2013 13:55:14 +0200
&gt; From: manuk7 &lt;[hidden]&gt;
&gt; Reply-To: manuk7 &lt;[hidden]&gt;, [hidden]
&gt; To: [hidden]
&gt;
&gt; Package: jackd2
&gt; Version: 1.9.8~dfsg.4+20120529git007cdc37-5
&gt; Severity: minor
&gt;
&gt; --- Please enter the report below this line. ---
&gt; Since few time i'm was unable to launch jackd with the following message
&gt; : &#xAB; Cannot create shm registry segment (Permission denied) &#xBB;
&gt;
&gt; I found this is mostly due to /run/shm which wasn't mounted as tmpfs
&gt; (btw i don't know were to report this bug).
&gt;
&gt; However it seems jackd is also guilty because it tries to access
&gt; /dev/shm instead of /run/shm. According to release notes of /run
&gt; migration (
&gt;
&gt; http://wiki.debian.org/ReleaseGoals/RunDirectory#Packages_using_.2Fdev.2Fshm
&gt; ) this shall be done with shm_* and sem_*. Could you correct this ?
&gt;
&gt; Thanks
&gt;
&gt; --- System information. ---
&gt; Architecture: amd64
&gt; Kernel:       Linux 3.2.0-3-amd64
&gt;
&gt; Debian Release: 7.0
&gt;   500 testing         mirrors.ircam.fr
&gt;   500 testing         ftp.igh.cnrs.fr
&gt;   500 stable          mirrors.ircam.fr
&gt;   100 unstable        mirrors.ircam.fr
&gt;   100 unstable        ftp.gajim.org
&gt;   100 experimental    mozilla.debian.net
&gt;   100 experimental    mirrors.ircam.fr
&gt;
&gt;
&gt; 
&gt; Jack-Devel mailing list
&gt; [hidden]
&gt; http://lists.jackaudio.org/listinfo.cgi/jack-devel-jackaudio.org
&gt;
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1371716998.6960_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1371749547.26067_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1371729245.29005_0.ltw:2,'>Index</a></td></tr>
</table>
<p><small>1371729245.29005_0.ltw:2,&nbsp;&lt;CAFa_cKkawuDjVZ7jNd0v_JCD3fmk2J=FSuj1GKB5kQKB2V5YDA at mail dot gmail dot com&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
