<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] Stopping jack from callback</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] Stopping jack from callback</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1376576011.18785_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1376616513.429_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1376600118.2252_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Thu, 15 Aug 2013 22:54:59 +0200 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Arnold Krille </span> &lt;[hidden] at arnoldarts dot de&gt; </td></tr>
<tr><td class='col1'>To</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Harry van Haaren
<a href='../1376570094.14660_0.ltw:2,a/index.html'>Re: [Jack-Devel] Stopping jack from callback </a></td></tr>
</table>
<pre>
On Thu, 15 Aug 2013 13:34:48 +0100 Harry van Haaren
&lt;[hidden]&gt; wrote:
&gt; On Thu, Aug 15, 2013 at 1:27 PM, Anders Tornvig
&gt; &lt;[hidden]&gt; wrote:
&gt; &gt; I'm counting how many times I have been in the process_callback and
&gt; &gt; I
&gt; would like to stop immediately after the, say, 100th visit.
&gt; Use jack_deactivate( client );   in the process() callback, when your
&gt; condition is met.
&gt; 
&gt; Note that you are violating threading rules by writing to a variable
&gt; in the JACK callback, while reading the variable in main().
&gt; You must use a ringbuffer / other thread-safe structure for
&gt; exchanging data between threads.

Its not a problem if you are purely writing in one thread and purely
reading in the other. When you increment in one thread (read+write) and
read in the other you might get the usual problems. But if you are okay
with a certain uncertainty, even incrementing in one thread and pure
reading in the other thread will not be bad.
Problems only start to arise when you want to write from more then one
thread into a single variable...

Arnold
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1376576011.18785_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1376616513.429_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1376600118.2252_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1376600118.2252_0.ltw:2,a&nbsp;&lt;20130815225459.1bf38ace at xingu dot arnoldarts dot de&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
