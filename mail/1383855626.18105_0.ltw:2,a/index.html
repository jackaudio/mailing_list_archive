<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] [jack1] building without zita</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] [jack1] building without zita</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1383850407.9723_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1383858613.20449_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1383855626.18105_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Thu, 07 Nov 2013 21:20:17 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Adrian Knoth </span> &lt;[hidden] at drcomp dot erfurt dot thur dot de&gt; </td></tr>
<tr><td class='col1'>To</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Kaspar Bumke
<a href='../1383850407.9723_0.ltw:2,a/index.html'>Re: [Jack-Devel] [jack1] building without zita </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>Chris Caudle
<a href='../1383858613.20449_0.ltw:2,a/index.html'>Re: [Jack-Devel] [jack1] building without zita </a></td></tr>
</table>
<pre>
On Thu, Nov 07, 2013 at 06:52:59PM +0000, Kaspar Bumke wrote:

&gt; No there was definitely an issue with 0.121.3.  With 0.121.3 (from
&gt; Debian's repos) I get:
&gt; 
&gt; [  496.470422] Alignment trap: not handling instruction edc67a06 at [&lt;b6f10af4&gt;]
&gt; [  496.478012] Unhandled fault: alignment exception (0x801) at 0xb65251e6
&gt; Bus error

jackd2 has addressed (and fixed) the ARM alignment problem.

You could come up with a similar approach for jackd1. Provided all the
struct members are naturally aligned, it might be enough to define
POST_PACKED_STRUCTURE as empty (instead of __attribute__((__packed__))).

You might lose binary compatibility with statically linked clients, but
since you're targeting and embedded platform, I assume you have full
control over everything, so that's easy to fix.

You might also lose the ability to run 32bit clients on 64bit servers,
but that's probably none of your concerns.

&gt; As an aside do you think any work could be done to optimize Jack for
&gt; NEON SIMD?

Sure. libjack/simd.c is your friend. OTOH, I don't know if
autovectorisation could achieve the same without writing target-specific
assembler for every new processor.


HTH

-- 
mail: [hidden]  	http://adi.thur.de	PGP/GPG: key via keyserver
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1383850407.9723_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1383858613.20449_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1383855626.18105_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1383855626.18105_0.ltw:2,a&nbsp;&lt;20131107202017.GA13920 at ltw dot loris dot tv&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
