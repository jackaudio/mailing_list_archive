<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] [LAD] JACK, cgroups and systemd</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] [LAD] JACK, cgroups and systemd</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1389561620.27612_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1389566986.487_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1389566295.32567_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Sun, 12 Jan 2014 17:25:04 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Dominique Michel </span> &lt;[hidden] at vtxnet dot ch&gt; </td></tr>
<tr><td class='col1'>To</td><td>"[hidden] at lists dot jackaudio dot org" &lt;[hidden] at lists dot jackaudio dot org&gt;, LAD &lt;[hidden] at lists dot linuxaudio dot org&gt; </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Patrick Shirkey
<a href='../1389541108.11002_0.ltw:2,a/index.html'>Re: [LAD] [Jack-Devel] JACK, cgroups and systemd </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>[hidden] at aspodata dot se
<a href='../1389561620.27612_0.ltw:2,a/index.html'>Re: [LAD] [Jack-Devel] JACK, cgroups and systemd </a></td></tr>
</table>
<pre>
Le Mon, 13 Jan 2014 02:39:08 +1100 (EST),
"Patrick Shirkey" &lt;[hidden]&gt; a &#xE9;crit :

&gt; 
&gt; On Mon, January 13, 2014 2:28 am, Dominique Michel wrote:
&gt; &gt; Le Mon, 13 Jan 2014 00:22:40 +1100 (EST),
&gt; &gt; "Patrick Shirkey" &lt;[hidden]&gt; a &#xE9;crit :
&gt; &gt;
&gt; &gt;&gt;
&gt; &gt;&gt; On Sun, January 12, 2014 11:17 pm, Dominique Michel wrote:
&gt; &gt;&gt; &gt; Recently, I experimented with Debian sid, which use systemd.
&gt; &gt;&gt; &gt; Systemd idea is nice, but its implementation is a catastrophe.
&gt; &gt;&gt; &gt; It is more than one year I am using the kernel cgroups on gentoo
&gt; &gt;&gt; &gt; to get rt scheduling with JACK, that without any trouble.
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; On Debian, this is just impossible, because whatever I try,
&gt; &gt;&gt; &gt; systemd insist to put what it think is good to have into the rt
&gt; &gt;&gt; &gt; cgroup, which soon or later result in a complete system freeze
&gt; &gt;&gt; &gt; with even dead magic keys. After loosing my time a few days with
&gt; &gt;&gt; &gt; this, I removed Debian and installed gentoo instead.
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; I found the reason here:
&gt; &gt;&gt; &gt; http://article.gmane.org/gmane.linux.kernel/1063354
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; "Lennart Poettering:
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Well, this feature is... completely irrelevant for normal desktop
&gt; &gt;&gt; &gt; people.
&gt; &gt;&gt; &gt; ...
&gt; &gt;&gt; &gt; In fact, I just prepped a patch to systemd to move every service
&gt; &gt;&gt; &gt; and every user session into its own cgroup in the 'cpu'
&gt; &gt;&gt; &gt; hierarchy (in addition to the group it already creates in the
&gt; &gt;&gt; &gt; 'systemd' hierarchy)."
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Another completely idiotic stuff of this guy.
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; The point of the cgroups is it is possible to setup them for
&gt; &gt;&gt; &gt; whatever use will be made with a computer, and this guy think he
&gt; &gt;&gt; &gt; have the insane and pretentious capability to decide for every
&gt; &gt;&gt; &gt; single user of the use they will made with their computers, and
&gt; &gt;&gt; &gt; he is suggesting users doing something else are abnormal. He
&gt; &gt;&gt; &gt; must be stopped!
&gt; &gt;&gt; &gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; That patch is over three years old. It seems like you have found a
&gt; &gt;&gt; loophole in the logic that was used to justify it.
&gt; &gt;&gt;
&gt; &gt;&gt; Granted, it's annoying but it just means we have to find a better
&gt; &gt;&gt; solution.
&gt; &gt;&gt;
&gt; &gt;&gt; Similar to Fon's main objection to jack-session being *not flexible
&gt; &gt;&gt; enough*. We all knew it would cause problems for specific use cases
&gt; &gt;&gt; but we still haven't found a perfect solution to enable the
&gt; &gt;&gt; flexibility that Fons identified while also allowing people to get
&gt; &gt;&gt; on with the task at hand. Hence we have the less flexible but still
&gt; &gt;&gt; useful for most use cases version of jack session.
&gt; &gt;
&gt; &gt; With the cgroups, that flexibility exist. One of the main point
&gt; &gt; of the cgroups is to be flexible enough to be setup for any possible
&gt; &gt; use case. But with a systemd system, that flexibility doesn't exist
&gt; &gt; any more, because the only possible "normal" use case permitted by
&gt; &gt; systemd is to run a GUI (as stated by the "normal" one in charge of
&gt; &gt; this mess).
&gt; &gt;
&gt; &gt; It is more than 1 year I use the cgroups within an openrc system,
&gt; &gt; and you can do whatever you want with the cgroups. The same apply
&gt; &gt; for sysv init system.
&gt; &gt;
&gt; &gt; What made me mad in that story, is not because it is a bug into
&gt; &gt; systemd which made a kernel function to misbehave, I know very well
&gt; &gt; that the only one that doesn't make bugs is the one that doesn't
&gt; &gt; make code, but this is the complete lack of consideration for other
&gt; &gt; needs than what he consider to be the needs of a "normal desktop
&gt; &gt; user". Which strongly suggest users with other needs are abnormal
&gt; &gt; users. Which in turn imply that person is a racist when he suggest
&gt; &gt; I am abnormal. And I am not the only one, systemd will break any
&gt; &gt; cgroup configuration for any other use case than to run a GUI.
&gt; &gt;
&gt; 
&gt; Well we also see similar issues with PA and JACK. The reasoning
&gt; appears to be that the different camps are not really interested or
&gt; motivated to scratch each others itches and no one is being paid to
&gt; do the dirty work to make sure the corner cases are being polished.
&gt; 
&gt; I am working on getting some official funding for the latter so this
&gt; issue interests me from that perspective.

I can only hope you will succeed with that.

&gt; 
&gt; It seems the days are over when people had the time or motivation to
&gt; fix the tricky and annoying integration issues under there own steam.

I can understand this when some developers seam use their time to break
the kernel and other important functions. We get udev breakage of
firmware loading with some modules, the *kit story which will hopefully
end with its disappearance, and now systemd which have a catastrophic
implementation. And that's only the ones I am aware of.

Dominique

&gt; 
&gt; 
&gt; 
&gt; --
&gt; Patrick Shirkey
&gt; Boost Hardware Ltd
&gt; 
&gt; Linux-audio-dev mailing list
&gt; [hidden]
&gt; http://lists.linuxaudio.org/listinfo/linux-audio-dev
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1389561620.27612_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1389566986.487_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1389566295.32567_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1389566295.32567_0.ltw:2,a&nbsp;&lt;20140112172504.774429a5 at tux dot fritz dot box&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
