<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] [LAD] JACK, cgroups and systemd</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] [LAD] JACK, cgroups and systemd</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1389566986.487_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1389569221.2073_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1389568531.1675_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Mon, 13 Jan 2014 02:39:08 +1100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Patrick Shirkey </span> &lt;[hidden] at boosthardware dot com&gt; </td></tr>
<tr><td class='col1'>To</td><td>"[hidden] at lists dot jackaudio dot org" &lt;[hidden] at lists dot jackaudio dot org&gt;, LAD &lt;[hidden] at lists dot linuxaudio dot org&gt; </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Dominique Michel
<a href='../1389539230.9751_0.ltw:2,a/index.html'>Re: [LAD] [Jack-Devel] JACK, cgroups and systemd </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>Dominique Michel
<a href='../1389542647.11915_0.ltw:2,a/index.html'>Re: [LAD] [Jack-Devel] JACK, cgroups and systemd </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>Dominique Michel
<a href='../1389566295.32567_0.ltw:2,a/index.html'>Re: [Jack-Devel] [LAD] JACK, cgroups and systemd </a></td></tr>
</table>
<pre>
On Mon, January 13, 2014 2:28 am, Dominique Michel wrote:
&gt; Le Mon, 13 Jan 2014 00:22:40 +1100 (EST),
&gt; "Patrick Shirkey" &lt;[hidden]&gt; a &#xE9;crit :
&gt;
&gt;&gt;
&gt;&gt; On Sun, January 12, 2014 11:17 pm, Dominique Michel wrote:
&gt;&gt; &gt; Recently, I experimented with Debian sid, which use systemd. Systemd
&gt;&gt; &gt; idea is nice, but its implementation is a catastrophe. It is more
&gt;&gt; &gt; than one year I am using the kernel cgroups on gentoo to get rt
&gt;&gt; &gt; scheduling with JACK, that without any trouble.
&gt;&gt; &gt;
&gt;&gt; &gt; On Debian, this is just impossible, because whatever I try, systemd
&gt;&gt; &gt; insist to put what it think is good to have into the rt cgroup,
&gt;&gt; &gt; which soon or later result in a complete system freeze with even
&gt;&gt; &gt; dead magic keys. After loosing my time a few days with this, I
&gt;&gt; &gt; removed Debian and installed gentoo instead.
&gt;&gt; &gt;
&gt;&gt; &gt; I found the reason here:
&gt;&gt; &gt; http://article.gmane.org/gmane.linux.kernel/1063354
&gt;&gt; &gt;
&gt;&gt; &gt; "Lennart Poettering:
&gt;&gt; &gt;
&gt;&gt; &gt; Well, this feature is... completely irrelevant for normal desktop
&gt;&gt; &gt; people.
&gt;&gt; &gt; ...
&gt;&gt; &gt; In fact, I just prepped a patch to systemd to move every service and
&gt;&gt; &gt; every user session into its own cgroup in the 'cpu' hierarchy (in
&gt;&gt; &gt; addition to the group it already creates in the 'systemd'
&gt;&gt; &gt; hierarchy)."
&gt;&gt; &gt;
&gt;&gt; &gt; Another completely idiotic stuff of this guy.
&gt;&gt; &gt;
&gt;&gt; &gt; The point of the cgroups is it is possible to setup them for
&gt;&gt; &gt; whatever use will be made with a computer, and this guy think he
&gt;&gt; &gt; have the insane and pretentious capability to decide for every
&gt;&gt; &gt; single user of the use they will made with their computers, and he
&gt;&gt; &gt; is suggesting users doing something else are abnormal. He must be
&gt;&gt; &gt; stopped!
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; That patch is over three years old. It seems like you have found a
&gt;&gt; loophole in the logic that was used to justify it.
&gt;&gt;
&gt;&gt; Granted, it's annoying but it just means we have to find a better
&gt;&gt; solution.
&gt;&gt;
&gt;&gt; Similar to Fon's main objection to jack-session being *not flexible
&gt;&gt; enough*. We all knew it would cause problems for specific use cases
&gt;&gt; but we still haven't found a perfect solution to enable the
&gt;&gt; flexibility that Fons identified while also allowing people to get on
&gt;&gt; with the task at hand. Hence we have the less flexible but still
&gt;&gt; useful for most use cases version of jack session.
&gt;
&gt; With the cgroups, that flexibility exist. One of the main point
&gt; of the cgroups is to be flexible enough to be setup for any possible
&gt; use case. But with a systemd system, that flexibility doesn't exist
&gt; any more, because the only possible "normal" use case permitted by
&gt; systemd is to run a GUI (as stated by the "normal" one in charge of this
&gt; mess).
&gt;
&gt; It is more than 1 year I use the cgroups within an openrc system,
&gt; and you can do whatever you want with the cgroups. The same apply for
&gt; sysv init system.
&gt;
&gt; What made me mad in that story, is not because it is a bug into systemd
&gt; which made a kernel function to misbehave, I know very well that
&gt; the only one that doesn't make bugs is the one that doesn't make
&gt; code, but this is the complete lack of consideration for other needs
&gt; than what he consider to be the needs of a "normal desktop user". Which
&gt; strongly suggest users with other needs are abnormal users. Which in
&gt; turn imply that person is a racist when he suggest I am abnormal. And I
&gt; am not the only one, systemd will break any cgroup configuration for
&gt; any other use case than to run a GUI.
&gt;

Well we also see similar issues with PA and JACK. The reasoning appears to
be that the different camps are not really interested or motivated to
scratch each others itches and no one is being paid to do the dirty work
to make sure the corner cases are being polished.

I am working on getting some official funding for the latter so this issue
interests me from that perspective.

It seems the days are over when people had the time or motivation to fix
the tricky and annoying integration issues under there own steam.



--
Patrick Shirkey
Boost Hardware Ltd
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1389566986.487_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1389569221.2073_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1389568531.1675_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1389568531.1675_0.ltw:2,a&nbsp;&lt;49944.86.105.95.182.1389541148.squirrel at boosthardware dot com&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
