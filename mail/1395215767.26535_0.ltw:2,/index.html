<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>[Jack-Devel] latency: reducing buffer allocation</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>[Jack-Devel] latency: reducing buffer allocation</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1395141516.5072_0.ltw:2,/index.html'>Prev</a></td><td><a href='../1395218287.31388_0.ltw:2,/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1395215767.26535_0.ltw:2,'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Tue, 18 Mar 2014 18:52:42 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Leonardo Gabrielli </span> &lt;[hidden] at univpm dot it&gt; </td></tr>
<tr><td class='col1'>To</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>Follow-Up</td><td>Clemens Ladisch
<a href='../1395218287.31388_0.ltw:2,/index.html'>Re: [Jack-Devel] latency: reducing buffer allocation </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>Chris Caudle
<a href='../1395247749.25388_0.ltw:2,a/index.html'>Re: [Jack-Devel] latency: reducing buffer allocation </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>David Henningsson
<a href='../1395394527.3340_0.ltw:2,a/index.html'>Re: [Jack-Devel] latency: reducing buffer allocation </a></td></tr>
</table>
<pre>
Hello,
in the process of squeezing the minimum latency out of my beagleboard, 
how could I possibly tweak jack? The current issue is that if I try 
getting below 512frames per period (256, 128 or even 64), jackd1 will 
automatically allocate 2 periods for capture and 3, 5 or 10 for playback 
even if I'm explicitly asking for -n2 periods. This is possibly related 
to what man page says:

"For  most ALSA devices, the hardware buffer has exactly --period
               times --nperiods frames.  Some devices demand a larger  
buffer.
               If  so, JACK will use the smallest possible buffer 
containing at
               least --nperiods, but the playback latency does not 
increase."

Can I get around it? No matter how tricky is the hack it would be gladly 
appreciated to reduce the latency ;)
Also: what do you mean exactly by the latency does not increase? It 
seems to me that it stays the same between, e.g. 256x5 allocated buffers 
and 64x10 allocated buffers, but in all that cases it doesn't sound like 
265x2 or 64x2 as I request to jack.

BTW: the chipset is TWL4030 twl4030-hifi-0 and at the moment I'm working 
at 22050 to reduce computational load

Cheers

-- 

Dr. Leonardo Gabrielli, PhD student
A3Lab - Dept. Information Engineering
Universit&#xE0; Politecnica delle Marche
via Brecce Bianche 12, 60131, Ancona, Italy
Skype: leonardo.gabrielli
Web: a3lab.dii.univpm.it/people/leonardo-gabrielli 
&lt;http://a3lab.dii.univpm.it/people/leonardo-gabrielli&gt;
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1395141516.5072_0.ltw:2,/index.html'>Prev</a></td><td><a href='../1395218287.31388_0.ltw:2,/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1395215767.26535_0.ltw:2,'>Index</a></td></tr>
</table>
<p><small>1395215767.26535_0.ltw:2,&nbsp;&lt;532887EA.3080701 at univpm dot it&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
