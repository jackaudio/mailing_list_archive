<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] Jack netone problem on AM335x-evmsk board</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] Jack netone problem on AM335x-evmsk board</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1400746948.12319_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1400748743.15998_0.ltw:2,Sa/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1400748299.15101_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Thu, 22 May 2014 12:44:30 +0400 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> TimKa </span> &lt;[hidden] at yandex dot ru&gt; </td></tr>
<tr><td class='col1'>To</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>TimKa
<a href='../1400681610.11611_0.ltw:2,a/index.html'>[Jack-Devel] Jack netone problem on AM335x-evmsk board </a></td></tr>
</table>
<pre>
Yesterday, I tried to use jackd2 and Nettwo and it's working pretty well 
on EVMSK boards, and I didn't find any difficults. Unfortunately for my 
purpose I can't use multicast so Nettwo is not suitable for me. I tried 
to use Netone with jackd2 but also not successful.
On slave I'm running:
jackd -d netone -r 16000
alsa_in -c 2 -d hw:0 -r16000
alsa_out -c 2 -d hw:0 -r16000

On master I'm running:
jackd -d alsa -r16000
  jack_netsource -H &lt;slave_IP&gt;

As a result on master console I start getting following:
...
netjack: at frame 000015 -&gt; total netxruns 1  (6%) queue time= 256000
netjack: at frame 000483 -&gt; total netxruns 14  (2%) queue time= 255848
netjack: at frame 000499 -&gt; total netxruns 30  (6%) queue time= 255848
netjack: at frame 000515 -&gt; total netxruns 46  (8%) queue time= 255848
netjack: at frame 000530 -&gt; total netxruns 61  (11%) queue time= 255848
...
On slave console I start getting following:
(for alsa_in utility)
...
delay = 16027
delay = 18888
delay = 18957
delay = 19023
delay = 17909
delay = 21026
...
(for jackd -d netone)
JackEngine::XRun: client = alsa_in was not finished, state = Triggered
JackEngine::XRun: client = alsa_out was not finished, state = Triggered
JackAudioDriver::ProcessGraphAsyncMaster: Process error
JackEngine::XRun: client = alsa_in was not finished, state = Triggered
JackEngine::XRun: client = alsa_out was not finished, state = Triggered
JackAudioDriver::ProcessGraphAsyncMaster: Process error
...
and CPU became highly loaded

21.05.2014 18:13, TimKa &#x43F;&#x438;&#x448;&#x435;&#x442;:
&gt; Hello, everybody!
&gt; I met the problem with jack_netsource and jackd1 on TI AM335x-evmsk 
&gt; board.I have been  cross-comiled jack1 0.124.1 from source and patch 
&gt; time.c, because i don't have bogomips in /proc/cpuinfo. I run jackd 
&gt; master and slave both on two AM335x-EVMSK boards. When I try to run 
&gt; jackd_netsource -H &lt;master_IP&gt; on master I get a lot of "nextrun 
&gt; amount 21ms" and less 106 or 61ms. Unfortunately I can not find any 
&gt; information on Web by this issue so trying to find right way by mail 
&gt; list.
&gt; Additional info:
&gt; 1. I have tried 0.121.2 and 0.124.2 from git, not successful.
&gt; 2. If I place slave role to Ubuntu x86 laptop with jackd 0.121.2 it's 
&gt; working pretty well, with out any xruns
&gt; 3. If I place master role to Ubuntu x86 laptop and slave to 
&gt; AM335&#x445;-EVMSK it's working the same as two AM335&#x445;-EVMSK boards
&gt; 4. Standalone jackd on board working well (jackd -d alsa) and I can 
&gt; connect input to output and listen music from line-in on line-out 
&gt; without xruns
&gt;
&gt; P.S. I also fix some minor mistyping in freebob_driver.c in the 
&gt; includes part, but I believe it's not the ground of problem
&gt;
&gt; 
&gt; Jack-Devel mailing list
&gt; [hidden]
&gt; http://lists.jackaudio.org/listinfo.cgi/jack-devel-jackaudio.org
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1400746948.12319_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1400748743.15998_0.ltw:2,Sa/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1400748299.15101_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1400748299.15101_0.ltw:2,a&nbsp;&lt;537DB8EE.3060804 at yandex dot ru&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
