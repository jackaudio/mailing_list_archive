<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] port disconnection callbacks (JackPortConnectCallback)</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] port disconnection callbacks (JackPortConnectCallback)</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1412829798.14810_0.ltw:2,/index.html'>Prev</a></td><td><a href='../1412837781.27293_0.ltw:2,/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1412830270.15449_0.ltw:2,'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Thu, 09 Oct 2014 06:51:02 +0200 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> St&#xE9;phane Letz </span> &lt;[hidden] at grame dot fr&gt; </td></tr>
<tr><td class='col1'>To</td><td>Matt Flax &lt;[hidden] at flatmax dot org&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Matt Flax
<a href='../1412816019.29408_0.ltw:2,/index.html'>[Jack-Devel] port disconnection callbacks (JackPortConnectCallback) </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>Matt Flax
<a href='../1412837781.27293_0.ltw:2,/index.html'>Re: [Jack-Devel] port disconnection callbacks (JackPortConnectCallback) </a></td></tr>
</table>
<pre>
This is not clear for me if this is suppose to happen&#x85;

Le 9 oct. 2014 &#xE0; 02:53, Matt Flax &lt;[hidden]&gt; a &#xE9;crit :

&gt; Hi there,
&gt; 
&gt; I have registered a callback for port (dis)connections.
&gt; 
&gt; When my client connects its ports, the JackPortConnectCallback indicates this occurance with the 'connect' variable = 1
&gt; 
&gt; When my client finishes playing, it stops by returning a non-zero number from the audio processing function. If I stop the client in this manner, then my JackPortConnectCallback doesn't get called.
&gt; 
&gt; I can see that the port has been disconnected from the client's inputs and outputs.

What happens in the current jack2 implementation is that the RT thread is stopped, the client is marked "inactive", and this is probably what make the connecting begin inactive also.

&gt; 
&gt; I would expect that when the system disconnects those ports it calls the JackPortConnectCallback with the 'connect' variable = 0
&gt; 
&gt; Is this the expected behavior ?

Since this happens on in library side for now (RT thread is stopped&#x85;) there isn't anything in place to "signal" back the sever for what happens.
&gt; 
&gt; Here is the version info :
&gt; jackdmp 1.9.10
&gt; 
&gt; thanks
&gt; Matt

Probably we are in the "grey zone" here which means : something not completely well specified/designed/implemented.

St&#xE9;phane
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1412829798.14810_0.ltw:2,/index.html'>Prev</a></td><td><a href='../1412837781.27293_0.ltw:2,/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1412830270.15449_0.ltw:2,'>Index</a></td></tr>
</table>
<p><small>1412830270.15449_0.ltw:2,&nbsp;&lt;A0A6CBE0-88BE-4E98-ABFA-94B1D2BFDF29 at grame dot fr&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
