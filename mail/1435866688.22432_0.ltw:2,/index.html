<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>[Jack-Devel] Odp: Re: Odp: Re: jack1: jack_transport does not work as master</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>[Jack-Devel] Odp: Re: Odp: Re: jack1: jack_transport does not work as master</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1435861056.16239_0.ltw:2,/index.html'>Prev</a></td><td><a href='../1435885694.27624_0.ltw:2,/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1435866688.22432_0.ltw:2,'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Thu, 02 Jul 2015 21:51:16 +0200 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Pawel </span> &lt;[hidden] at wp dot pl&gt; </td></tr>
<tr><td class='col1'>To</td><td>Paul Davis &lt;[hidden] at linuxaudiosystems dot com&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>JACK &lt;[hidden] at lists dot jackaudio dot org&gt; </td></tr>
</table>
<pre>
I send a patch once on this list and this is a "patched" version.
I keep this, because it was very helpfull while testing and improve other apps ( like hydrogen , fsthost ), especially tempo change issues. Not perfect but better than "official", especially in low tempos ( like 30 BPM ).
.. so yes you are inconvincible ;-)

P.

Dnia Czwartek, 2 Lipca 2015 20:17 Paul Davis &lt;[hidden]&gt; napisa&#xB3;(a) 
&gt; Was this the stuff you tried (unsuccessfully) to convince me need to
&gt; go into the tools repo?
&gt; 
&gt; On Thu, Jul 2, 2015 at 1:12 PM, Pawel &lt;[hidden]&gt; wrote:
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; Tobias, you can check my slightly improved version of jack_transport:
&gt; &gt; https://sourceforge.net/p/nxjsm/code/HEAD/tree/trunk/tools/transport.c
&gt; &gt;
&gt; &gt; I'm also the author of new Hydrogen jack-master code. It's works much better , but probably not perfect ;-)
&gt; &gt;
&gt; &gt; P.
&gt; &gt;
&gt; &gt; Dnia Czwartek, 2 Lipca 2015 18:57 Paul Davis &lt;[hidden]&gt; napisa&#xB3;(a)
&gt; &gt;&gt; Frankly, computing BBT time has never been part of "how to use the
&gt; &gt;&gt; JACK API". It should probably never have been included in the source
&gt; &gt;&gt; code in the first place.
&gt; &gt;&gt;
&gt; &gt;&gt; Managing BBT time is *extremely* complex - we have worked on it for
&gt; &gt;&gt; years in Ardour and it still has issues. I'd prefer to just rip it
&gt; &gt;&gt; out.
&gt; &gt;&gt;
&gt; &gt;&gt; On Thu, Jul 2, 2015 at 12:47 PM, Tobias Hoffmann
&gt; &gt;&gt; &lt;[hidden]&gt; wrote:
&gt; &gt;&gt; &gt; On 02/07/15 17:30, Tobias Hoffmann wrote:
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; On 02/07/15 15:38, Paul Davis wrote:
&gt; &gt;&gt; &gt;&gt;&gt;
&gt; &gt;&gt; &gt;&gt;&gt; jack_transport is not intended to act as a the time master.
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; Well, comparing example-clients/transport_client.c and tools/transport.c,
&gt; &gt;&gt; &gt;&gt; I'd say the one big difference between the two is that tools/transport.c
&gt; &gt;&gt; &gt;&gt; (aka jack_transport) can act as a *simple* timebase master...
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Ok, I see now that the BBT update algorithm (in the "else" branch in
&gt; &gt;&gt; &gt; timebase()) in transport.c is quite broken, because it accumulates rounding
&gt; &gt;&gt; &gt; errors. However always using the first, recalculating branch (basically: if
&gt; &gt;&gt; &gt; (true)) seems to be stable -- or at least: better than Hydrogen's timebase
&gt; &gt;&gt; &gt; master, which updates the BBT only every few cycles... (I've read that
&gt; &gt;&gt; &gt; somewhere a completely rewritten Jack Master implementation for Hydrogen is
&gt; &gt;&gt; &gt; available, which I have not tested yet).
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; I find it quite sad that even some code distributed in the jack tarball is
&gt; &gt;&gt; &gt; an example of how NOT to use the Jack API ...
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;   Tobias
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; 
&gt; &gt;&gt; Jack-Devel mailing list
&gt; &gt;&gt; [hidden]
&gt; &gt;&gt; http://lists.jackaudio.org/listinfo.cgi/jack-devel-jackaudio.org
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; 
&gt; &gt; Jack-Devel mailing list
&gt; &gt; [hidden]
&gt; &gt; http://lists.jackaudio.org/listinfo.cgi/jack-devel-jackaudio.org
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1435861056.16239_0.ltw:2,/index.html'>Prev</a></td><td><a href='../1435885694.27624_0.ltw:2,/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1435866688.22432_0.ltw:2,'>Index</a></td></tr>
</table>
<p><small>1435866688.22432_0.ltw:2,&nbsp;&lt;5595963424e900.26629329 at wp dot pl&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
