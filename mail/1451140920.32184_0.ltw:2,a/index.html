<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] jack dsp load calculation</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] jack dsp load calculation</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1451140464.31543_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1451142645.1418_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1451140920.32184_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Sat, 26 Dec 2015 15:41:52 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Robin Gareus </span> &lt;[hidden] at gareus dot org&gt; </td></tr>
<tr><td class='col1'>To</td><td>John Emmas &lt;[hidden] at tiscali dot co dot uk&gt;, JACK devel &lt;[hidden] at lists dot jackaudio dot org&gt; </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>John Emmas
<a href='../1451140464.31543_0.ltw:2,a/index.html'>Re: [Jack-Devel] jack dsp load calculation </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>John Emmas
<a href='../1451142645.1418_0.ltw:2,a/index.html'>Re: [Jack-Devel] jack dsp load calculation </a></td></tr>
</table>
<pre>
On 12/26/2015 03:34 PM, John Emmas wrote:
&gt; On 26/12/2015 14:16, Robin Gareus wrote:
&gt;&gt; There are cases when there *are* xruns, while jack wrongly reports a DSP
&gt;&gt; usage of &lt; 50% while it fact it peaks over 100%.
&gt;&gt;
&gt; 
&gt; I very much doubt that.
&gt; 
&gt; The top-level application might be reporting &lt; 50% (if it isn't querying
&gt; Jack often enough).  And I think you've made a very good case for that. 
&gt; But you haven't produced any evidence to suggest that Jack itself is
&gt; missing the xruns. 

This part is correct. The x-run counter increases correctly.

&gt; What's needed is to make sure that the app will
&gt; notice them if they occur (in between update calls).  Removing the
&gt; averaging isn't the way to achieve that.  I know that's what you've done
&gt; in the PortAudio backend - but it's not the right approach.

I think we're talking cross-purpose.

Effectively it boils down to this: Is the reported DSP load supposed to
be "average" or "worst-case" or a "hybrid" (current implementation)?

I like Nedko's idea: Allow to query all: min, average, max  over a long
time compared to the process-cycle (think second or seconds).

That leaves it to the application which of those are displayed to the
user, but at least the mechanism in the underlying infrastructure (here
jack) is well defined.

2c,
robin
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1451140464.31543_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1451142645.1418_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1451140920.32184_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1451140920.32184_0.ltw:2,a&nbsp;&lt;567EA730.4020001 at gareus dot org&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
