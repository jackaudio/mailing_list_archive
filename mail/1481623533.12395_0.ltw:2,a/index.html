<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] jack_get_sample_rate</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] jack_get_sample_rate</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1481622225.9707_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1481648607.25825_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1481623533.12395_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Tue, 13 Dec 2016 11:05:19 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Kjetil Matheussen </span> &lt;[hidden] at gmail dot com&gt; </td></tr>
<tr><td class='col1'>To</td><td>ROBERT WOLF &lt;[hidden] at hercsmusicsystems dot com dot au&gt;, "[hidden] at lists dot jackaudio dot org" &lt;[hidden] at lists dot jackaudio dot org&gt; </td></tr>
</table>
<pre>
(Added jack-devel mailing list again)

Yes, I would think that jack_get_sample_rate is the only way to know the
sample rate.

If qjackctl shows different information it must be a bug in qjackctl.
However, I noticed that your jack version is 7 years old. If qjackctl
displayed
the wrong information in 2009, it's probably been fixed now.


On Tue, Dec 13, 2016 at 11:00 AM, ROBERT WOLF &lt;
[hidden]&gt; wrote:

&gt; In this case I would understand as follows:
&gt; 1. Starting JACK server with 22050 Hz sampling rate is more-or-less a
&gt; recommendation only.
&gt; 2. The way to know the sampling rate for sure is to call
&gt; *jack_get_sample_rate*.
&gt; 3. I can testify that the actual sampling rate is the same as reported by
&gt; *jack_get_sampling_rate*, because if it was not then my program would
&gt; sound differently.
&gt;
&gt; If my understanding is correct then I consider the case closed!
&gt;
&gt; Cheers,
&gt;
&gt; Robert
&gt;
&gt;
&gt; On 13/12/16 20:13, Kjetil Matheussen wrote:
&gt;
&gt; (putting back jack-devel again)
&gt;
&gt; It just says that it configures for 22050Hz, it doesn't say whether it
&gt; succeeded.
&gt; So things seems to work as it should.
&gt;
&gt;
&gt;
&gt; On Tue, Dec 13, 2016 at 10:38 AM, ROBERT WOLF &lt;robert.wolf@
&gt; hercsmusicsystems.com.au&gt; wrote:
&gt;
&gt;&gt; Two programs show this information:
&gt;&gt;
&gt;&gt; 1. QJackCtl.
&gt;&gt; 2. When I run my own program *AND* jack server is not running, *THEN*
&gt;&gt; for some reason the jack server gets started (apparently using the command
&gt;&gt; stored in .jackdrc file) and I see the following printout:
&gt;&gt;
&gt;&gt; jackd 0.122.0
&gt;&gt; Copyright 2001-2009 Paul Davis, Stephane Letz, Jack O'Quinn, Torben Hohn
&gt;&gt; and others.
&gt;&gt; jackd comes with ABSOLUTELY NO WARRANTY
&gt;&gt; This is free software, and you are welcome to redistribute it
&gt;&gt; under certain conditions; see the file COPYING for details
&gt;&gt;
&gt;&gt; JACK compiled with System V SHM support.
&gt;&gt; loading driver ..
&gt;&gt; apparent rate = 22050
&gt;&gt; creating alsa driver ... hw:PCH,0|hw:PCH,0|1024|2|22050
&gt;&gt; |0|0|nomon|swmeter|-|32bit
&gt;&gt; ALSA lib conf.c:4578:(parse_args) Unknown parameter 1
&gt;&gt; ALSA lib conf.c:4711:(snd_config_expand) Parse arguments error: No such
&gt;&gt; file or directory
&gt;&gt; ALSA lib control.c:953:(snd_ctl_open_noupdate) Invalid CTL hw:PCH,0
&gt;&gt; control open "hw:PCH,0" (No such file or directory)
&gt;&gt; configuring for 22050Hz, period = 1024 frames (46.4 ms), buffer = 2
&gt;&gt; periods
&gt;&gt; ALSA: final selected sample format for capture: 32bit integer
&gt;&gt; little-endian
&gt;&gt; ALSA: use 2 periods for capture
&gt;&gt; ALSA: final selected sample format for playback: 32bit integer
&gt;&gt; little-endian
&gt;&gt; ALSA: use 2 periods for playback
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; *HOWEVER!!!! **jack_get_sample_rate(...);* still reports *44100*.
&gt;&gt;
&gt;&gt; How intriguing?!
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On 13/12/16 19:53, Kjetil Matheussen wrote:
&gt;&gt;
&gt;&gt; Which program shows this window?
&gt;&gt;
&gt;&gt; (added jack-devel mailing list back to the conversation)
&gt;&gt;
&gt;&gt; On Tue, Dec 13, 2016 at 8:35 AM, ROBERT WOLF &lt;
&gt;&gt; [hidden]&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; There is a window with messages and it says this:
&gt;&gt;&gt;
&gt;&gt;&gt; configuring for 22050Hz, period = 1024 frames (46.4 ms), buffer = 2
&gt;&gt;&gt; periods
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On 13/12/16 11:09, Kjetil Matheussen wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Mon, Dec 12, 2016 at 7:33 AM, ROBERT WOLF &lt;
&gt;&gt;&gt; [hidden]&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Dear All,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; According to the documentation *jack_get_sample_rate* reports the
&gt;&gt;&gt;&gt; sample rate as was used by *jackd*.
&gt;&gt;&gt;&gt; This does not happen in my case.
&gt;&gt;&gt;&gt; I start *jackd* using different sampling rates (i.e. 22050, ect.).
&gt;&gt;&gt;&gt; JACK reports that it does indeed uses the selected sampling rate.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; But *jack_get_sample_rate* always returns 44100.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Why?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt; How did Jack report that it used the selected sampling rate?
&gt;&gt;&gt; I.e. where did you read that?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1481622225.9707_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1481648607.25825_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1481623533.12395_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1481623533.12395_0.ltw:2,a&nbsp;&lt;CAC6niE+o_C1H5zPFRefSciiB2SHCk7PGGPe2JS9d71+q-n0aKg at mail dot gmail dot com&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
