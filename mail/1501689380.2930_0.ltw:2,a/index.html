<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Re: [Jack-Devel] Cannot combine audio devices with more than 64 channels</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>Re: [Jack-Devel] Cannot combine audio devices with more than 64 channels</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1501223521.30960_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1501693255.6533_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1501689380.2930_0.ltw:2,a'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Wed, 02 Aug 2017 17:56:11 +0200 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> J&#xF6;rg M&#xFC;ller </span> &lt;[hidden] at gmail dot com&gt; </td></tr>
<tr><td class='col1'>To</td><td>Adrian Knoth &lt;[hidden] at drcomp dot erfurt dot thur dot de&gt; </td></tr>
<tr><td class='col1'>Cc</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>In-Reply-To</td><td>Adrian Knoth
<a href='../1486732521.12244_0.ltw:2,a/index.html'>Re: [Jack-Devel] Cannot combine audio devices with more than 64 channels </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>David Kastrup
<a href='../1501693255.6533_0.ltw:2,a/index.html'>Re: [Jack-Devel] Cannot combine audio devices with more than 64 channels </a></td></tr>
<tr><td class='col1'>Follow-Up</td><td>Markus Seeber
<a href='../1501696197.9162_0.ltw:2,/index.html'>Re: [Jack-Devel] Cannot combine audio devices with more than 64 channels </a></td></tr>
</table>
<pre>
This is months old, but I have news to this topic.

The suggested changes work and we have set up 11x16channel audio
monitors. That is 176 speakers!

However, running Jack is highly unstable, it crashes roughly every two
minutes and causes a huge amount of XRuns even at buffer sizes like
16000. CPU is down at 5%, so that is not the issue. Jack runs without a
problem when using just one card. However, we need to combine the three
MADI-Cards via .asoundrc in order to eventually get to 768 channels.

I have the jack logs here: https://pastebin.com/ke25cdXB

Do you have any idea what could cause the issue?

Best, J&#xF6;rg


Am 10.02.2017 um 14:15 schrieb Adrian Knoth:
&gt; On 02/08/17 18:16, J&#xF6;rg M&#xFC;ller wrote:
&gt;
&gt;&gt; jackd: ../linux/alsa/JackAlsaDriver.cpp:122: virtual int
&gt;&gt; Jack::JackAlsaDriver::Attach(): Assertion `fCaptureChannels &lt; 256'
&gt;&gt; failed.
&gt;&gt; Aborted (core dumped)
&gt;&gt;
&gt;&gt; The corresponding cpp-file at that line compares against a variable
&gt;&gt; called "DRIVER_PORT_NUM", which is a constant defined in
&gt;&gt; "common/JackConstants.h" on line 53 on the github repo. Could that be
&gt;&gt; the problem?
&gt; That's absolutely the problem, but the limit is arbitrary. Feel free to
&gt; recompile jackd2 with changed constants in JackConstants.h.
&gt;
&gt; I guess you need to tweak a bunch of other values as well.
&gt;
&gt; PORT_NUM, PORT_NUM_MAX, DRIVER_PORT_NUM (that's per direction),
&gt; PORT_NUM_FOR_CLIENT
&gt;
&gt; That should be it.
&gt;
&gt; Play a bit so it matches your setup. Feel free to send a patch.
&gt;
&gt;
&gt;
&gt; HTH
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1501223521.30960_0.ltw:2,a/index.html'>Prev</a></td><td><a href='../1501693255.6533_0.ltw:2,a/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1501689380.2930_0.ltw:2,a'>Index</a></td></tr>
</table>
<p><small>1501689380.2930_0.ltw:2,a&nbsp;&lt;b054a82b-1e9c-b437-2b24-049e0f9f8b77 at gmail dot com&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
