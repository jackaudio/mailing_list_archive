<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>[Jack-Devel] How to use the BBT position information</title>
<style>
pre {background: #fafafa; border: 1px solid #f1f2f3; font-size: 1.2em; padding: 10px; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;}
h1 {font-size: 140%;}
.header_table {table-layout: fixed; width: 100%;}
.col1 {width: 120px; vertical-align: top;}
.from {font-weight: bold;}
</style>
</head>
<body>
<h1>[Jack-Devel] How to use the BBT position information</h1>
<table class="header_table">
<tr><td class='col1'><a href='../1543574008.15163_0.ltw:2,/index.html'>Prev</a></td><td><a href='../1543930887.27624_0.ltw:2,/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1543921259.6283_0.ltw:2,'>Index</a></td></tr>
<tr><td class='col1'>Date</td><td>Tue, 04 Dec 2018 12:00:29 +0100 </td></tr>
<tr><td class='col1'>From</td><td><span class="from"> Philipp M&#xFC;ller </span> &lt;[hidden] at googlemail dot com&gt; </td></tr>
<tr><td class='col1'>To</td><td>[hidden] at lists dot jackaudio dot org </td></tr>
<tr><td class='col1'>Follow-Up</td><td>Chris Caudle
<a href='../1543930887.27624_0.ltw:2,/index.html'>Re: [Jack-Devel] How to use the BBT position information </a></td></tr>
</table>
<pre>
Hi everyone,

I'm having a little trouble understanding what the /beat/, /bar/, and
/tick/ information of the JACK timebase master could be used for by a
client.&#xA0;

The big advantage of supplying the JackPositionBBT information, as far
as I understand it, is that the timebase master is able to communicate a
change of tempo to the clients. Using the sample rate,
/beats_per_minute/, and /ticks_per_beat/ they can change the current
speed while transport is rolling, recalculating the tick size, and
updating their internal frame number to not produce any jumps while
changing tempo.

But for all of this you do not need the /beat/, /bar/, and /tick/
information. In particular, I'm looking at an implementation, which
tries to calculate the current transport position based on these three
values instead of just using the current frame number. This, of course,
does not work since the ticks are (arbitrarily) coarse-graining the
frames within a beat and the provided /tick/ is the last one passed
during the current playback.

The only case I can think of where those three information would be
necessary is looping (/bar/ decreases). But I'm not quite sure how a
client should react to such an event.

So, did I miss an important use case of the BBT information? I certainly
don't not want to introduce new bugs while attempting to fix the JACK
audio driver.

Greetings,

Philipp
</pre>
<table class="header_table">
<tr><td class='col1'><a href='../1543574008.15163_0.ltw:2,/index.html'>Prev</a></td><td><a href='../1543930887.27624_0.ltw:2,/index.html'>Next</a>&nbsp;&nbsp;<a href='../../index.html#1543921259.6283_0.ltw:2,'>Index</a></td></tr>
</table>
<p><small>1543921259.6283_0.ltw:2,&nbsp;&lt;221caef6-8a8f-cf39-353a-1dc53d1d7c92 at googlemail dot com&gt;</small></p>
<!-- Created with Bash Archive Mail -->
</body>
</html>
