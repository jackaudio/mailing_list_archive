Date:        Sun, 23 Dec 2018 20:19:43 -0500
From:        [hidden] at grossmann-venter dot com <[hidden] at grossmann-venter dot com
To:          [hidden] at chriscaudle dot org
Cc:          [hidden] at lists dot jackaudio dot org
In-Reply-To: Chris Caudle Re: [Jack-Devel] Sudden Pulseaudio Faulure reported due to jack (1545591727.1108_0.ltw:2,)
Follow-Up:   Nedko Arnaudov Re: [Jack-Devel] Sudden Pulseaudio Faulure reported due to jack (1545951670.5746_0.ltw:2,)

Subject:     Re: [Jack-Devel] Sudden Pulseaudio Faulure reported due to jack

On 2018-12-23 14:01, Chris Caudle wrote:
> On Sun, December 23, 2018 2:27 am, [hidden] 
> wrote:
>> W: [pulseaudio] module-jack-sink.c: JACK error >Cannot connect to 
>> server
>> socket err = No such file or directory<
>> W: [pulseaudio] module-jack-sink.c: JACK error >Cannot connect to 
>> server
>> request channel<
> 
> Do you need jackd and jack-sink module running at that point?  I am not
> sure I understand from your question if you want the jack-sink feature
> running automatically when you start, or if you only want PulseAudio to
> not crash.
> If the latter then there should be a configuration file setting that is
> causing the jack-sink module to be loaded, you should able to remove 
> that
> setting.
> 
> In the fedora default configuration file for pulse, it checks to see if
> jackd is present before loading the module:
> 
> ### Automatically connect sink and source if JACK server is present
> .ifexists module-jackdbus-detect.so
> .nofail
> load-module module-jackdbus-detect channels=2
> .fail
> .endif
> 
> I cannot tell from the error messages whether the problem is jackd is 
> not
> running when expected, or if jackd is running but for some reason Pulse
> cannot make a connection.

Chris, thank you for your kind response.

I have severe problem trying to understand how to start up all these 
sound servers to make everything work.
My setup is as follows.

(I will not discuss the sound output, lets just say that jack works fine 
routing sound to my output device (e.g.181vsl or Motu B16) with 
monitors) I will refer to that output as "routed to/by jack" below

1) I primarily want to use Mixbus (with Jack) (which worked absolutely 
great since recently)
For that it seemed I needed the jackbus/jackd/jack-sinc. It worked fine 
with those installed and started.
But it is an undocumented circus starting everything in the right order.

2) I need to run bluetooth sound from ipads and they need to be routed 
through jack, but it seems bluez to be using the pulseaudio system 
mixer.

3) I want to run the system sounds as generated by other sound 
applications also to be routed with jack, but since that is the 
pulseaudio mixer that should work fine (2) above works.

4) I have a virtual machine with Windows 7 running all my legacy window$ 
software.
I want to have the sound from the virtualmachine also routed by jack.


The problems I picked up along the way is squarely nonconsistent 
problems with pulseaudio complaining about jack.
Add to that the imho unneccessary trouble with alsa you have a perfect 
storm brewing between
ALSA/Pulseaudio/jackd/jackbus/jack-sync.
I am not a fan of alsa and prefer jack by far. At least Jack is 
consistent.
I tried to work through manuals about each individually but there is no 
consistent document available how to start these daemons in a way/order 
that everything works.
It really is chaotic and a bit nomansland.

So, now to your questions.
--------------------------
> Do you need jackd and jack-sink module running at that point?  I am not
> sure I understand from your question if you want the jack-sink feature
> running automatically when you start, or if you only want PulseAudio to
> not crash.

Im not sure to answer this one as there is no consistent reason to start 
any of them in any order I could find. I could not figure out from 
documentation how these daemons actually work with each other. An 
interactive diagram would have been great.
So in short to your answer, no, I dont care what the order is they must 
be started, as long as I can get 1-4 all working.
The loading of the jack-sync module is a prerequisite from the Mixbus 
posts I read. It seems to work gret for Mixbus only and causes havoc for 
all other trying to work with pulseaudio/jack

I am using AVLinux which is Debian9 Stretch.

I cannot edit config files if I dont know how all these 
pulseaudio/jack/alsa daemons interact.
Therefore,
Do you have a suggestion how I should approach the startup of these 
daemons.
I would think I must first get bluetooth sound to work with pulseaudio, 
then start the various jack daemons.
Where alsa fits in is crapshoot, but I pretty much just want it to do 
the communication with the 1818vsl (which is what I gathered it is 
doing)  and stay out of everything else where it cant do damage.

1545614412.17865_0.ltw:2, <1f7a6a7e79e529f47e79310d42ed61b3 at grossmann-venter dot com>
________________________________________________________________________________

